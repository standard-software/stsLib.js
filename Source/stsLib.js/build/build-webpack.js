!function(e){var t={};function n(c){if(t[c])return t[c].exports;var r=t[c]={i:c,l:!1,exports:{}};return e[c].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:c})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){!function(){var t=t||{};!function(e,t){"use strict";var n=e;n.alert=function(e){t.alert(e)},n.inherits=function(e,t){function n(){}Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t.prototype):Object.create?e.prototype=Object.create(t.prototype):(n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e)},n.objectCreate=function(e){function t(){}return t.prototype=e,new t},n.syntax=e.syntax||{},function(){var t=e.syntax;t.forLoop=function(e,t,n,c,s,o){i.assert(r.isInts(e,t));var a=function(){};n=r.ifUndefinedValue(n,a),c=r.ifUndefinedValue(c,a),s=r.ifUndefinedValue(s,a),o=r.ifUndefinedValue(o,a);for(var u=e;u<=t;u+=1)n(u),u===e?c(u):u!==t&&s(u),u===t&&o(u)},t.test_forLoop=function(){var e,n,c=function(){return t.forLoop(0,n.length-1,function(t){e+="all:"+n[t]+" "},function(t){e+="first:"+n[t]+" "},function(t){e+="middle:"+n[t]+" "},function(t){e+="last:"+n[t]+" "})};e="",n=[],c(),i.check("",e),e="",n=["a"],c(),i.check("all:a first:a last:a ",e),e="",n=["a","b"],c(),i.check("all:a first:a all:b last:b ",e),e="",n=["a","b","c"],c(),i.check("all:a first:a all:b middle:b all:c last:c ",e),e="",n=["a","b","c","d"],c(),i.check("all:a first:a all:b middle:b all:c middle:c all:d last:d ",e)}}(),n.compare=e.compare||{},function(){var t=e.compare;t.assert=function(e,t){if(void 0!==t&&null!==t||(t=""),"boolean"!=typeof e)throw new Error("Error:"+t);if(!e)throw new Error("Error:"+t)},t.check=function(t,n,c){return t===n||(c=(c=void 0===c||null===c?"":"Test:"+c+"\n")+"A != B\nA = "+t+"\nB = "+n,e.alert(c),!1)},t.test_check=function(){i.check(!0,!0),i.check(!0,!0),i.check(!1,!1)},t.checkException=function(e,t){try{var n=[].slice.call(arguments,2);return e!==t.apply(null,n)?"NG":"OK"}catch(e){return"ER"}},t.test_checkException=function(){var e=function(e,t){return e/t},n=function(e,t){if(0===t)throw new Error("error");return e/t};i.check("OK",t.checkException(5,e,5,1)),i.check("NG",t.checkException(1,e,5,1)),i.check("OK",t.checkException(2.5,e,5,2)),i.check("OK",t.checkException(1/0,e,5,0)),i.check("OK",t.checkException(5,n,5,1)),i.check("NG",t.checkException(1,n,5,1)),i.check("OK",t.checkException(2.5,n,5,2)),i.check("ER",t.checkException(1/0,n,5,0))},t.checkResult=function(e,t,n){var c,r,i,s;r="",c=[].slice.call(arguments,3),i=t;try{i===(s=n.apply(null,c))?"OK"!==e&&(r=e+"!=OK\nA == B\nA = "+i.toString()+"\nB = "+s.toString()):"NG"!==e&&(r=e+"!=NG\nA != B\nA = "+i.toString()+"\nB = "+s.toString())}catch(t){"ER"!==e&&(r=e+"!=ER\nA = "+i.toString()+"\nB = undefined")}""!==r&&alert(r)},t.test_checkResult=function(){var e=function(e,t){return e/t},t=function(e,t){if(0===t)throw new Error("error");return e/t};i.checkResult("OK",5,e,5,1),i.checkResult("NG",1,e,5,1),i.checkResult("OK",2.5,e,5,2),i.checkResult("OK",1/0,e,5,0),i.checkResult("OK",5,t,5,1),i.checkResult("NG",1,t,5,1),i.checkResult("OK",2.5,t,5,2),i.checkResult("ER",1/0,t,5,0)},t.benchMark=function(e,t){for(var n=new Date,c=[].slice.call(arguments,2),r=0,i=e-1;r<=i-1;r++)t.apply(null,c);return new Date-n},t.orValue=function(e,t){i.assert(2<=arguments.length);var n=arguments.length;if(2===n&&r.isArray(t)){for(var c=0;c<t.length;c+=1)if(e===t[c])return!0;return!1}for(c=1;c<n;c+=1)if(e===arguments[c])return!0;return!1},t.test_orValue=function(){var e=1;i.check(!0,t.orValue(e,1)),i.check(!0,t.orValue(e,1,2)),i.check(!0,t.orValue(e,1,2,3)),i.check(!1,t.orValue(e,2,3,4)),i.checkResult("ER",0,t.orValue,e);e=1;i.check(!0,t.orValue(e,1)),i.check(!1,t.orValue(e,[1],2)),i.check(!0,t.orValue(e,[1])),i.check(!0,t.orValue(e,[1,2])),i.check(!0,t.orValue(e,[1,2,3]))},t.matchValue=function(e,n,c){return t.orValue(e,n)?c:e},t.test_matchValue=function(){var e=1;i.check(0,t.matchValue(e,[1],0)),i.check(1,t.matchValue(e,[0],0)),i.check(1,t.matchValue(e,[2],0));e="";i.check(0,t.matchValue(e,[void 0,null,""],0)),i.check("",t.matchValue(e,[void 0,null],0))}}(),n.type=e.type||{},function(){var t=e.type;t.typeName=function(e){var t=typeof e;return"object"===t&&(r.isNull(e)?t="null":r.isArray(e)?t="array":r.isDate(e)&&(t="date")),t},t.isTypeCheck=function(e,t){i.assert(1<=arguments.length),i.assert("function"==typeof e),i.assert(r.isArray(t));var n=t.length;if(0===n)return!1;if(1===n)return e(t[0]);for(var c=0;c<n;c+=1)if(!e(t[c]))return!1;return!0},t.isUndefined=function(e){return void 0===e},t.isNotUndefined=function(e){return!t.isUndefined(e)},t.isUndefineds=function(e){return t.isTypeCheck(t.isUndefined,s.fromArgs(arguments))},t.isNotUndefineds=function(e){return t.isTypeCheck(t.isNotUndefined,s.fromArgs(arguments))},t.isUndefinedArray=function(e){return t.isTypeCheck(t.isUndefined,e)},t.isNotUndefinedArray=function(e){return t.isTypeCheck(t.isNotUndefined,e)},t.test_isUndefined=function(){var e,n=null;i.check(!0,t.isUndefined(e)),i.check(!1,t.isUndefined(n)),i.check(!1,t.isUndefined(1)),i.check(!0,t.isUndefineds(e)),i.check(!1,t.isUndefineds(n)),i.check(!1,t.isUndefineds(1)),i.check(!0,t.isUndefinedArray([e])),i.check(!1,t.isUndefinedArray([n])),i.check(!1,t.isUndefinedArray([1])),i.check(!0,t.isUndefineds(e,e)),i.check(!1,t.isUndefineds(e,n)),i.check(!1,t.isUndefineds(e,1)),i.check(!0,t.isUndefinedArray([e,e])),i.check(!1,t.isUndefinedArray([e,n])),i.check(!1,t.isUndefinedArray([e,1])),i.check(!1,t.isNotUndefineds(e)),i.check(!0,t.isNotUndefineds(n)),i.check(!0,t.isNotUndefineds(1)),i.check(!1,t.isNotUndefinedArray([e])),i.check(!0,t.isNotUndefinedArray([n])),i.check(!0,t.isNotUndefinedArray([1])),i.check(!1,t.isNotUndefineds(e,e)),i.check(!1,t.isNotUndefineds(e,n)),i.check(!0,t.isNotUndefineds(n,n)),i.check(!1,t.isNotUndefineds(n,e)),i.check(!0,t.isNotUndefineds(1,1)),i.check(!0,t.isNotUndefineds(1,n)),i.check(!1,t.isNotUndefineds(1,e)),i.check(!1,t.isNotUndefinedArray([e,e])),i.check(!1,t.isNotUndefinedArray([e,n])),i.check(!0,t.isNotUndefinedArray([n,n])),i.check(!1,t.isNotUndefinedArray([n,e])),i.check(!0,t.isNotUndefinedArray([1,1])),i.check(!0,t.isNotUndefinedArray([1,n])),i.check(!1,t.isNotUndefinedArray([1,e])),i.check(!1,t.isUndefineds([1,1])),i.check(!1,t.isUndefineds([e,e])),i.check(!0,t.isNotUndefineds([1,1])),i.check(!0,t.isNotUndefineds([e,e]))},t.isNull=function(e){return null===e},t.isNotNull=function(e){return!t.isNull(e)},t.isNulls=function(e){return t.isTypeCheck(t.isNull,s.fromArgs(arguments))},t.isNotNulls=function(e){return t.isTypeCheck(t.isNotNull,s.fromArgs(arguments))},t.isNullArray=function(e){return t.isTypeCheck(t.isNull,e)},t.isNotNullArray=function(e){return t.isTypeCheck(t.isNotNull,e)},t.test_isNull=function(){var e,n=null;i.check(!1,t.isNull(e)),i.check(!0,t.isNull(n)),i.check(!1,t.isNull(1)),i.check(!1,t.isNulls(e)),i.check(!0,t.isNulls(n)),i.check(!1,t.isNulls(1)),i.check(!1,t.isNullArray([e])),i.check(!0,t.isNullArray([n])),i.check(!1,t.isNullArray([1])),i.check(!0,t.isNulls(n,n)),i.check(!1,t.isNulls(n,e)),i.check(!1,t.isNulls(n,1)),i.check(!0,t.isNullArray([n,n])),i.check(!1,t.isNullArray([n,e])),i.check(!1,t.isNullArray([n,1])),i.check(!0,t.isNotNulls(e)),i.check(!1,t.isNotNulls(n)),i.check(!0,t.isNotNulls(1)),i.check(!0,t.isNotNullArray([e])),i.check(!1,t.isNotNullArray([n])),i.check(!0,t.isNotNullArray([1])),i.check(!0,t.isNotNulls(e,e)),i.check(!1,t.isNotNulls(e,n)),i.check(!1,t.isNotNulls(n,n)),i.check(!1,t.isNotNulls(n,e)),i.check(!0,t.isNotNulls(1,1)),i.check(!1,t.isNotNulls(1,n)),i.check(!0,t.isNotNulls(1,e)),i.check(!0,t.isNotNullArray([e,e])),i.check(!1,t.isNotNullArray([e,n])),i.check(!1,t.isNotNullArray([n,n])),i.check(!1,t.isNotNullArray([n,e])),i.check(!0,t.isNotNullArray([1,1])),i.check(!1,t.isNotNullArray([1,n])),i.check(!0,t.isNotNullArray([1,e]))},t.isNullOrUndefined=function(e){return t.isNull(e)||t.isUndefined(e)},t.isNotNullOrUndefined=function(e){return!t.isNullOrUndefined(e)},t.isNullOrUndefineds=function(e){return t.isTypeCheck(t.isNullOrUndefined,s.fromArgs(arguments))},t.isNotNullOrUndefineds=function(e){return t.isTypeCheck(t.isNotNullOrUndefined,s.fromArgs(arguments))},t.isNullOrUndefinedArray=function(e){return t.isTypeCheck(t.isNullOrUndefined,e)},t.isNotNullOrUndefinedArray=function(e){return t.isTypeCheck(t.isNotNullOrUndefined,e)},t.test_isNullOrUndefined=function(){var e,n=null;i.check(!0,t.isNullOrUndefined(e)),i.check(!0,t.isNullOrUndefined(n)),i.check(!1,t.isNullOrUndefined(1)),i.check(!0,t.isNullOrUndefineds(e)),i.check(!0,t.isNullOrUndefineds(n)),i.check(!1,t.isNullOrUndefineds(1)),i.check(!0,t.isNullOrUndefinedArray([e])),i.check(!0,t.isNullOrUndefinedArray([n])),i.check(!1,t.isNullOrUndefinedArray([1])),i.check(!0,t.isNullOrUndefineds(e,e)),i.check(!0,t.isNullOrUndefineds(e,n)),i.check(!1,t.isNullOrUndefineds(e,1)),i.check(!0,t.isNullOrUndefinedArray([e,e])),i.check(!0,t.isNullOrUndefinedArray([e,n])),i.check(!1,t.isNullOrUndefinedArray([e,1])),i.check(!1,t.isNotNullOrUndefineds(e)),i.check(!1,t.isNotNullOrUndefineds(n)),i.check(!0,t.isNotNullOrUndefineds(1)),i.check(!1,t.isNotNullOrUndefinedArray([e])),i.check(!1,t.isNotNullOrUndefinedArray([n])),i.check(!0,t.isNotNullOrUndefinedArray([1])),i.check(!1,t.isNotNullOrUndefineds(e,e)),i.check(!1,t.isNotNullOrUndefineds(e,n)),i.check(!1,t.isNotNullOrUndefineds(n,n)),i.check(!1,t.isNotNullOrUndefineds(n,e)),i.check(!0,t.isNotNullOrUndefineds(1,1)),i.check(!1,t.isNotNullOrUndefineds(1,n)),i.check(!1,t.isNotNullOrUndefineds(1,e)),i.check(!1,t.isNotNullOrUndefinedArray([e,e])),i.check(!1,t.isNotNullOrUndefinedArray([e,n])),i.check(!1,t.isNotNullOrUndefinedArray([n,n])),i.check(!1,t.isNotNullOrUndefinedArray([n,e])),i.check(!0,t.isNotNullOrUndefinedArray([1,1])),i.check(!1,t.isNotNullOrUndefinedArray([1,n])),i.check(!1,t.isNotNullOrUndefinedArray([1,e]))},t.ifUndefinedValue=function(e,n){return t.isUndefined(e)?n:e},t.ifNullOrUndefinedValue=function(e,n){return t.isNullOrUndefined(e)?n:e},t.test_ifNullOrUndefinedValue=function(){i.check(1,t.ifNullOrUndefinedValue(1,5)),i.check(5,t.ifNullOrUndefinedValue(null,5)),i.check(5,t.ifNullOrUndefinedValue(void 0,5)),i.check("",t.ifNullOrUndefinedValue("",5))},t.isEmpty=function(t){return!!r.isNullOrUndefined(t)||(r.isString(t)?""===t:r.isObject(t)?0===e.object.property.count(t):!!r.isArray(t)&&0===t.length)},t.isNotEmpty=function(e){return!t.isEmpty(e)},t.isEmpties=function(e){return t.isTypeCheck(t.isEmpty,s.fromArgs(arguments))},t.isNotEmpties=function(e){return t.isTypeCheck(t.isNotEmpty,s.fromArgs(arguments))},t.isEmptyArray=function(e){return t.isTypeCheck(t.isEmpty,e)},t.isNotEmptyArray=function(e){return t.isTypeCheck(t.isNotEmpty,e)},t.test_isEmpty=function(){var e,n=null,c={},r=[];i.check(!0,t.isEmpty(e)),i.check(!0,t.isEmpty(n)),i.check(!1,t.isEmpty(1)),i.check(!0,t.isEmpty(c)),i.check(!0,t.isEmpty(r)),i.check(!0,t.isEmpty("")),i.check(!0,t.isEmpties(e)),i.check(!0,t.isEmpties(n)),i.check(!1,t.isEmpties(1)),i.check(!0,t.isEmpties(c)),i.check(!0,t.isEmpties(r)),i.check(!0,t.isEmpties("")),i.check(!0,t.isEmptyArray([e])),i.check(!0,t.isEmptyArray([n])),i.check(!1,t.isEmptyArray([1])),i.check(!0,t.isEmptyArray([c])),i.check(!0,t.isEmptyArray([r])),i.check(!0,t.isEmptyArray([""])),i.check(!0,t.isEmpties(c,r,"")),i.check(!1,t.isEmpties(c,r,"",1)),i.check(!1,t.isEmpties(1,"")),i.check(!0,t.isEmptyArray([c,r,""])),i.check(!1,t.isEmptyArray([c,r,"",1])),i.check(!1,t.isEmptyArray([1,""])),i.check(!1,t.isNotEmpty(e)),i.check(!1,t.isNotEmpty(n)),i.check(!0,t.isNotEmpty(1)),i.check(!1,t.isNotEmpty(c)),i.check(!1,t.isNotEmpty(r)),i.check(!1,t.isNotEmpty("")),i.check(!1,t.isNotEmpties(e)),i.check(!1,t.isNotEmpties(n)),i.check(!0,t.isNotEmpties(1)),i.check(!1,t.isNotEmpties(c)),i.check(!1,t.isNotEmpties(r)),i.check(!1,t.isNotEmpties("")),i.check(!1,t.isNotEmptyArray([e])),i.check(!1,t.isNotEmptyArray([n])),i.check(!0,t.isNotEmptyArray([1])),i.check(!1,t.isNotEmptyArray([c])),i.check(!1,t.isNotEmptyArray([r])),i.check(!1,t.isNotEmptyArray([""])),i.check(!1,t.isNotEmpties(c,r,"")),i.check(!1,t.isNotEmpties(c,r,"",1)),i.check(!1,t.isNotEmpties(1,"")),i.check(!0,t.isNotEmpties(1,"a","b")),i.check(!1,t.isNotEmptyArray([c,r,""])),i.check(!1,t.isNotEmptyArray([c,r,"",1])),i.check(!1,t.isNotEmptyArray([1,""])),i.check(!0,t.isNotEmptyArray([1,"a","b"]))},t.ifEmptyValue=function(e,t){return r.isEmpty(e)?t:e},t.isBoolean=function(e){return"boolean"==typeof e},t.isNotBoolean=function(e){return!t.isBoolean(e)},t.isBooleans=function(e){return t.isTypeCheck(t.isBoolean,s.fromArgs(arguments))},t.isNotBooleans=function(e){return t.isTypeCheck(t.isNotBoolean,s.fromArgs(arguments))},t.isBooleanArray=function(e){return t.isTypeCheck(t.isBoolean,e)},t.isNotBooleanArray=function(e){return t.isTypeCheck(t.isNotBoolean,e)},t.test_isBoolean=function(){i.check(!0,t.isBooleans(!0)),i.check(!0,t.isBooleans(!1)),i.check(!1,t.isBooleans(void 0)),i.check(!1,t.isBooleans(null)),i.check(!1,t.isBooleans("")),i.check(!1,t.isBooleans("true")),i.check(!1,t.isBooleans("false")),i.check(!1,t.isBooleans(123)),i.check(!1,t.isBooleans(0)),i.check(!1,t.isBooleans(-1)),i.check(!0,t.isBooleans(!0,!0)),i.check(!0,t.isBooleans(!0,!0,!0)),i.check(!0,t.isBooleans(!0,!1,!0)),i.check(!1,t.isBooleans(!0,1,!0)),i.check(!1,t.isBooleans([!0,!0])),i.check(!0,t.isBooleanArray([!0,!0])),i.check(!0,t.isBooleanArray([!0,!0,!0])),i.check(!0,t.isBooleanArray([!0,!1,!0])),i.check(!1,t.isBooleanArray([!0,1,!0]))},t.isNumber=function(e){return"number"==typeof e&&isFinite(e)},t.isNotNumber=function(e){return!t.isNumber(e)},t.isNumbers=function(e){return t.isTypeCheck(t.isNumber,s.fromArgs(arguments))},t.isNotNumbers=function(e){return t.isTypeCheck(t.isNotNumber,s.fromArgs(arguments))},t.isNumberArray=function(e){return t.isTypeCheck(t.isNumber,e)},t.isNotNumberArray=function(e){return t.isTypeCheck(t.isNotNumber,e)},t.test_isNumber=function(){i.check(!0,t.isNumbers(123)),i.check(!0,t.isNumbers(0)),i.check(!0,t.isNumbers(-1)),i.check(!0,t.isNumbers(123.4)),i.check(!0,t.isNumbers(123)),i.check(!1,t.isNumbers(!0)),i.check(!1,t.isNumbers(!1)),i.check(!1,t.isNumbers(null)),i.check(!1,t.isNumbers(void 0)),i.check(!1,t.isNumbers(1/0)),i.check(!1,t.isNumbers(NaN)),i.check(!1,t.isNumbers("")),i.check(!1,t.isNumbers("ABC")),i.check(!1,t.isNumbers("ABC10")),i.check(!1,t.isNumbers("10ABC")),i.check(!1,t.isNumbers("0ABC")),i.check(!1,t.isNumbers("0")),i.check(!1,t.isNumbers("5")),i.check(!1,t.isNumbers("-5")),i.check(!1,t.isNumbers("100")),i.check(!1,t.isNumbers("-100")),i.check(!1,t.isNumbers([])),i.check(!1,t.isNumbers({})),i.check(!1,t.isNotNumbers(123)),i.check(!1,t.isNotNumbers(0)),i.check(!0,t.isNotNumbers(!0)),i.check(!0,t.isNotNumbers(null)),i.check(!0,t.isNotNumbers(void 0)),i.check(!0,t.isNotNumbers(1/0)),i.check(!0,t.isNotNumbers(NaN)),i.check(!0,t.isNotNumbers("")),i.check(!0,t.isNumbers(1,2)),i.check(!0,t.isNumbers(3,4,5)),i.check(!0,t.isNumbers(10.5,20.5,30.5)),i.check(!1,t.isNumbers(1,2,!0)),i.check(!1,t.isNotNumbers(1,2)),i.check(!1,t.isNotNumbers(3,4,5)),i.check(!1,t.isNotNumbers(10.5,20.5,30.5)),i.check(!1,t.isNotNumbers(1,2,!0)),i.check(!0,t.isNotNumbers(!1,!0)),i.check(!0,t.isNotNumbers("a","b")),i.check(!1,t.isNumbers([1,2])),i.check(!0,t.isNumberArray([1,2])),i.check(!0,t.isNumberArray([3,4,5])),i.check(!0,t.isNumberArray([10.5,20.5,30.5])),i.check(!1,t.isNumberArray([1,2,!0])),i.check(!1,t.isNotNumberArray([1,2])),i.check(!1,t.isNotNumberArray([3,4,5])),i.check(!1,t.isNotNumberArray([10.5,20.5,30.5])),i.check(!1,t.isNotNumberArray([1,2,!0])),i.check(!0,t.isNotNumberArray([!1,!0])),i.check(!0,t.isNotNumberArray(["a","b"]))},t.isInt=function(e){return!!t.isNumber(e)&&Math.round(e)===e},t.isNotInt=function(e){return!t.isInt(e)},t.isInts=function(e){return t.isTypeCheck(t.isInt,s.fromArgs(arguments))},t.isNotInts=function(e){return t.isTypeCheck(t.isNotInt,s.fromArgs(arguments))},t.isIntArray=function(e){return t.isTypeCheck(t.isInt,e)},t.isNotIntArray=function(e){return t.isTypeCheck(t.isNotInt,e)},t.test_isInt=function(){i.check(!0,t.isInts(123)),i.check(!0,t.isInts(0)),i.check(!0,t.isInts(-1)),i.check(!1,t.isInts(123.4)),i.check(!0,t.isInts(123)),i.check(!1,t.isInts(!0)),i.check(!1,t.isInts(!1)),i.check(!1,t.isInts(null)),i.check(!1,t.isInts(void 0)),i.check(!1,t.isInts("")),i.check(!1,t.isInts("ABC")),i.check(!1,t.isInts("0")),i.check(!1,t.isInts("5")),i.check(!1,t.isInts("-5")),i.check(!1,t.isInts("100")),i.check(!1,t.isInts("-100")),i.check(!1,t.isInts([])),i.check(!1,t.isInts({})),i.check(!0,t.isInts(1,2)),i.check(!0,t.isInts(3,4,5)),i.check(!0,t.isInts(10,20,30)),i.check(!1,t.isInts(1,2,3.5)),i.check(!1,t.isNotInts(1,2)),i.check(!1,t.isNotInts(3,4,5)),i.check(!1,t.isNotInts(10,20,30)),i.check(!1,t.isNotInts(1,2,3.5)),i.check(!1,t.isNotInts(1,2.1,3.5)),i.check(!0,t.isNotInts(1.1,2.2,3.5)),i.check(!1,t.isIntArray([])),i.check(!0,t.isIntArray([1])),i.check(!0,t.isIntArray([1,2,3])),i.check(!0,t.isIntArray([1,2,0])),i.check(!1,t.isIntArray([1,2,NaN])),i.check(!1,t.isIntArray([1,2,null])),i.check(!1,t.isIntArray(["a","b",1]))},t.isString=function(e){return"string"==typeof e},t.isNotString=function(e){return!t.isString(e)},t.isStrings=function(e){return t.isTypeCheck(t.isString,s.fromArgs(arguments))},t.isNotStrings=function(e){return t.isTypeCheck(t.isNotString,s.fromArgs(arguments))},t.isStringArray=function(e){return t.isTypeCheck(t.isString,e)},t.isNotStringArray=function(e){return t.isTypeCheck(t.isNotString,e)},t.test_isString=function(){i.check(!0,t.isStrings("")),i.check(!0,t.isStrings("a")),i.check(!0,t.isStrings("a","b","c")),i.check(!0,t.isStrings("a","b","")),i.check(!1,t.isStrings("a","b",0)),i.check(!1,t.isStrings("a","b",1)),i.check(!1,t.isStrings("a","b",null)),i.check(!1,t.isStrings("a","b",void 0)),i.check(!1,t.isStringArray([])),i.check(!0,t.isStringArray([""])),i.check(!0,t.isStringArray(["a"])),i.check(!0,t.isStringArray(["a","b","c"])),i.check(!0,t.isStringArray(["a","b",""])),i.check(!1,t.isStringArray(["a","b",0])),i.check(!1,t.isStringArray(["a","b",1])),i.check(!1,t.isStringArray(["a","b",null])),i.check(!1,t.isStringArray(["a","b",void 0]))},t.isFunction=function(e){return"function"==typeof e},t.isNotFunction=function(e){return"function"==typeof e},t.isFunctions=function(e){return t.isTypeCheck(t.isFunction,s.fromArgs(arguments))},t.isNotFunctions=function(e){return t.isTypeCheck(t.isNotFunction,s.fromArgs(arguments))},t.isFunctionArray=function(e){return t.isTypeCheck(t.isFunction,e)},t.isNotFunctionArray=function(e){return t.isTypeCheck(t.isNotFunction,e)},t.test_isFunction=function(){i.check(!0,t.isFunction(function(){})),i.check(!1,t.isFunction({})),i.check(!0,t.isFunctions(function(){},t.test_isFunction)),i.check(!1,t.isFunctions({},t.test_isFunction)),i.check(!0,t.isFunctionArray([function(){},t.test_isFunction])),i.check(!1,t.isFunctionArray([{},t.test_isFunction]))},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)&&null!==e&&void 0!==e},t.isNotObject=function(e){return!t.isObject(e)},t.isObjects=function(e){return t.isTypeCheck(t.isObject,s.fromArgs(arguments))},t.isNotObjects=function(e){return t.isTypeCheck(t.isNotObject,s.fromArgs(arguments))},t.isObjectArray=function(e){return t.isTypeCheck(t.isObject,e)},t.isNotObjectArray=function(e){return t.isTypeCheck(t.isNotObject,e)},t.test_isObject=function(){i.check(!0,t.isObject({})),i.check(!1,t.isObject([])),i.check(!1,t.isObject(null)),i.check(!1,t.isObject(void 0)),i.check(!0,t.isObjects({})),i.check(!0,t.isObjects({a:0})),i.check(!0,t.isObjects({a:0,b:1})),i.check(!0,t.isObjectArray([{},{a:0,b:1}])),i.check(!1,t.isObjectArray([[],{a:0,b:1}])),i.check(!1,t.isObjectArray([[{}],{a:0,b:1}])),i.check(!0,t.isObjects({a:0,b:1},{c:0,d:1})),i.check(!1,t.isObjects([])),i.check(!1,t.isObjects(null)),i.check(!1,t.isObjects(void 0)),i.check(!1,t.isObjects(function(){}))},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isNotArray=function(e){return!t.isArray(e)},t.isArrays=function(e){return t.isTypeCheck(t.isArray,s.fromArgs(arguments))},t.isNotArrays=function(e){return t.isTypeCheck(t.isNotArray,s.fromArgs(arguments))},t.isArrayArray=function(e){return t.isTypeCheck(t.isArray,e)},t.isNotArrayArray=function(e){return t.isTypeCheck(t.isNotArray,e)},t.test_isArray=function(){i.check(!0,t.isArrays([123])),i.check(!0,t.isArrays([])),i.check(!0,t.isArrays([1,2,3])),i.check(!1,t.isArrays(123)),i.check(!1,t.isArrays("1,2,3")),i.check(!0,t.isArrays([1],[2])),i.check(!0,t.isArrays([3],[4],[5])),i.check(!0,t.isArrays([10,20],[30])),i.check(!1,t.isArrays([1,2],3)),i.check(!0,t.isNotArrays(1,2)),i.check(!1,t.isNotArrays([3],[4],5)),i.check(!0,t.isNotArrays(10,20,30)),i.check(!1,t.isNotArrays(10,20,[30])),i.check(!0,t.isArrayArray([[1],[2]])),i.check(!0,t.isArrayArray([[3],[4],[5]])),i.check(!0,t.isArrayArray([[10,20],[30]])),i.check(!1,t.isArrayArray([[1,2],3])),i.check(!0,t.isNotArrayArray([1,2])),i.check(!1,t.isNotArrayArray([[3],[4],5])),i.check(!0,t.isNotArrayArray([10,20,30])),i.check(!1,t.isNotArrayArray([10,20,[30]]))},t.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},t.isNotDate=function(e){return!t.isDate(e)},t.isDates=function(e){return t.isTypeCheck(t.isDate,s.fromArgs(arguments))},t.isNotDates=function(e){return t.isTypeCheck(t.isNotDate,s.fromArgs(arguments))},t.isDateArray=function(e){return t.isTypeCheck(t.isDate,e)},t.isNotDateArray=function(e){return t.isTypeCheck(t.isNotDate,e)},t.test_isDate=function(){i.check(!0,t.isDate(new Date(2017,1,1))),i.check(!0,t.isDate(new Date("2017/01"))),i.check(!0,t.isDate(new Date(2017,1))),i.check(!0,t.isDate(new Date(2017,1)))},t.isPoint=function(e){return e instanceof h.Point},t.isNotPoint=function(e){return!t.isPoint(e)},t.isPoints=function(e){return t.isTypeCheck(t.isPoint,s.fromArgs(arguments))},t.isNotPoints=function(e){return t.isTypeCheck(t.isNotPoint,s.fromArgs(arguments))},t.isPointArray=function(e){return t.isTypeCheck(t.isPoint,e)},t.isNotPointArray=function(e){return t.isTypeCheck(t.isNotPoint,e)},t.test_isPoint=function(){i.check(!0,t.isPoint(h.Point(1,2))),i.check(!1,t.isPoint({x:1,y:2})),i.check(!1,t.isNotPoint(h.Point(1,2))),i.check(!0,t.isNotPoint({x:1,y:2})),i.check(!0,t.isPoints(h.Point(1,2),h.Point(3,4))),i.check(!1,t.isPoints(h.Point(1,2),{x:3,y:4})),i.check(!1,t.isPoints({x:3,y:4},{x:3})),i.check(!1,t.isNotPoints(h.Point(1,2),h.Point(3,4))),i.check(!1,t.isNotPoints(h.Point(1,2),{x:3,y:4})),i.check(!0,t.isNotPoints({x:3,y:4},{x:3})),i.check(!0,t.isPointArray([h.Point(1,2),h.Point(3,4)])),i.check(!1,t.isPointArray([h.Point(1,2),{x:3,y:4}])),i.check(!1,t.isPointArray([{x:3,y:4},{x:3}])),i.check(!1,t.isNotPointArray([h.Point(1,2),h.Point(3,4)])),i.check(!1,t.isNotPointArray([h.Point(1,2),{x:3,y:4}])),i.check(!0,t.isNotPointArray([{x:3,y:4},{x:3}]))},t.isVector=function(e){return e instanceof l.Vector},t.isNotVector=function(e){return!t.isVector(e)},t.isVectors=function(e){return t.isTypeCheck(t.isVector,s.fromArgs(arguments))},t.isNotVectors=function(e){return t.isTypeCheck(t.isNotVector,s.fromArgs(arguments))},t.isVectorArray=function(e){return t.isTypeCheck(t.isVector,e)},t.isNotVectorArray=function(e){return t.isTypeCheck(t.isNotVector,e)},t.test_isVector=function(){i.check(!0,t.isVector(l.Vector(h.Point(0,0),h.Point(1,1)))),i.check(!1,t.isVector({})),i.check(!1,t.isNotVector(l.Vector(h.Point(0,0),h.Point(1,1)))),i.check(!0,t.isNotVector({})),i.check(!0,t.isVectors(l.Vector(h.Point(0,0),h.Point(1,1)),l.Vector(h.Point(0,0),h.Point(1,1)))),i.check(!1,t.isVectors(l.Vector(h.Point(0,0),h.Point(1,1)),{})),i.check(!1,t.isVectors({},{})),i.check(!1,t.isNotVectors(l.Vector(h.Point(0,0),h.Point(1,1)),l.Vector(h.Point(0,0),h.Point(1,1)))),i.check(!1,t.isNotVectors(l.Vector(h.Point(0,0),h.Point(1,1)),{})),i.check(!0,t.isNotVectors({},{})),i.check(!0,t.isVectorArray([l.Vector(h.Point(0,0),h.Point(1,1)),l.Vector(h.Point(0,0),h.Point(1,1))])),i.check(!1,t.isVectorArray([l.Vector(h.Point(0,0),h.Point(1,1)),{}])),i.check(!1,t.isVectorArray([{},{}])),i.check(!1,t.isNotVectorArray([l.Vector(h.Point(0,0),h.Point(1,1)),l.Vector(h.Point(0,0),h.Point(1,1))])),i.check(!1,t.isNotVectorArray([l.Vector(h.Point(0,0),h.Point(1,1)),{}])),i.check(!0,t.isNotVectorArray([{},{}]))},t.isRect=function(e){return e instanceof f.Rect},t.isNotRect=function(e){return!t.isRect(e)},t.isRects=function(e){return t.isTypeCheck(t.isRect,s.fromArgs(arguments))},t.isNotRects=function(e){return t.isTypeCheck(t.isNotRect,s.fromArgs(arguments))},t.isRectArray=function(e){return t.isTypeCheck(t.isRect,e)},t.isNotRectArray=function(e){return t.isTypeCheck(t.isNotRect,e)},t.test_isRect=function(){var e=f.Rect(h.Point(2,2),h.Point(4,6)),n=f.Rect(h.Point(1,1),h.Point(4,6));i.check(!0,t.isRect(e)),i.check(!1,t.isRect({top:1,left:2,bottom:3,right:4})),i.check(!1,t.isNotRect(e)),i.check(!0,t.isNotRect({top:1,left:2,bottom:3,right:4})),i.check(!0,t.isRects(e,n)),i.check(!1,t.isRects(e,{top:1,left:2,bottom:3,right:4})),i.check(!1,t.isRects({top:1,left:2,bottom:3,right:4},{})),i.check(!1,t.isNotRects(e,n)),i.check(!1,t.isNotRects(e,{top:1,left:2,bottom:3,right:4})),i.check(!0,t.isNotRects({top:1,left:2,bottom:3,right:4},{})),i.check(!0,t.isRectArray([e,n])),i.check(!1,t.isRectArray([e,{top:1,left:2,bottom:3,right:4}])),i.check(!1,t.isRectArray([{top:1,left:2,bottom:3,right:4},{}])),i.check(!1,t.isNotRectArray([e,n])),i.check(!1,t.isNotRectArray([e,{top:1,left:2,bottom:3,right:4}])),i.check(!0,t.isNotRectArray([{top:1,left:2,bottom:3,right:4},{}]))},t.convertToNumber=function(e){var t;return i.assert(r.isString(e)),a.checkFormat(e,"float")?(t=Number(e),r.isNumber(t)?t:null):null},t.test_convertToNumber=function(){i.check("ER",i.checkException(123,t.convertToNumber,123)),i.check("OK",i.checkException(123,t.convertToNumber,"123")),i.check("OK",i.checkException(123,t.convertToNumber,"0123")),i.check("OK",i.checkException(123,t.convertToNumber,"+123")),i.check("OK",i.checkException(-123,t.convertToNumber,"-0123")),i.check("NG",i.checkException(123,t.convertToNumber," 123")),i.check("NG",i.checkException(123,t.convertToNumber,"123 ")),i.check("NG",i.checkException(123,t.convertToNumber," 123 ")),i.check("NG",i.checkException(123,t.convertToNumber,"123 0")),i.check("NG",i.checkException(123,t.convertToNumber,"0 123")),i.check("NG",i.checkException(123,t.convertToNumber,"1 123")),i.check("NG",i.checkException(123,t.convertToNumber,"123a")),i.check("NG",i.checkException(123,t.convertToNumber,"a123")),i.check("OK",i.checkException(123.4,t.convertToNumber,"123.4")),i.check("OK",i.checkException(123.4,t.convertToNumber,"0123.4")),i.check("OK",i.checkException(123.4,t.convertToNumber,"+123.4")),i.check("OK",i.checkException(-123.4,t.convertToNumber,"-0123.4")),i.check("NG",i.checkException(123.4,t.convertToNumber," 123.4")),i.check("NG",i.checkException(123.4,t.convertToNumber,"123.4 ")),i.check("NG",i.checkException(123.4,t.convertToNumber," 123.4 ")),i.check("NG",i.checkException(123.4,t.convertToNumber,"123.4 0")),i.check("NG",i.checkException(123.4,t.convertToNumber,"0 123.4")),i.check("NG",i.checkException(123.4,t.convertToNumber,"1 123.4")),i.check("NG",i.checkException(123.4,t.convertToNumber,"123 .4")),i.check("NG",i.checkException(123.4,t.convertToNumber,"123. 4")),i.check("NG",i.checkException(123.4,t.convertToNumber,"123.4a")),i.check("NG",i.checkException(123.4,t.convertToNumber,"a123.4")),i.check("OK",i.checkException(123.45,t.convertToNumber,"123.45")),i.check("NG",i.checkException(123.45,t.convertToNumber,"123.4.5"))},t.convertToInt=function(e,t){var n;switch(i.assert(r.isString(e)),t=r.ifUndefinedValue(t,10),i.assert(i.orValue(t,10,2,8,16)),t){case 10:return a.checkFormat(e,"integer")?(n=Number(e),r.isInt(n)?n:null):null;case 2:return a.checkFormat(e,"binary")?(n=parseInt(e,2),r.isInt(n)?n:null):null;case 8:return a.checkFormat(e,"octal")?(n=parseInt(e,8),r.isInt(n)?n:null):null;case 16:return a.checkFormat(e,"hex")?(n=parseInt(e,16),r.isInt(n)?n:null):null}},t.test_convertToInt=function(){i.check("ER",i.checkException(123,t.convertToInt,123)),i.check("OK",i.checkException(123,t.convertToInt,"123")),i.check("OK",i.checkException(123,t.convertToInt,"0123")),i.check("OK",i.checkException(123,t.convertToInt,"+123")),i.check("OK",i.checkException(-123,t.convertToInt,"-0123")),i.check("NG",i.checkException(123,t.convertToInt," 123")),i.check("NG",i.checkException(123,t.convertToInt,"123 ")),i.check("NG",i.checkException(123,t.convertToInt," 123 ")),i.check("NG",i.checkException(123,t.convertToInt,"123 0")),i.check("NG",i.checkException(123,t.convertToInt,"0 123")),i.check("NG",i.checkException(123,t.convertToInt,"1 123")),i.check("NG",i.checkException(123,t.convertToInt,"123a")),i.check("NG",i.checkException(123,t.convertToInt,"a123")),i.check("OK",i.checkException(null,t.convertToInt,"123.4")),i.check("OK",i.checkException(null,t.convertToInt,"0123.4")),i.check("NG",i.checkException(123.4,t.convertToInt,"+123.4")),i.check("NG",i.checkException(-123.4,t.convertToInt,"-0123.4")),i.check("OK",i.checkException(null,t.convertToInt," 123.4")),i.check("OK",i.checkException(null,t.convertToInt,"123.4 ")),i.check("OK",i.checkException(null,t.convertToInt," 123.4 ")),i.check("OK",i.checkException(null,t.convertToInt,"123.4 0")),i.check("OK",i.checkException(null,t.convertToInt,"0 123.4")),i.check("OK",i.checkException(null,t.convertToInt,"1 123.4")),i.check("OK",i.checkException(null,t.convertToInt,"123 .4")),i.check("OK",i.checkException(null,t.convertToInt,"123. 4")),i.check("OK",i.checkException(null,t.convertToInt,"123.4a")),i.check("OK",i.checkException(null,t.convertToInt,"a123.4")),i.check("NG",i.checkException(123.45,t.convertToInt,"123.4.5")),i.check("OK",i.checkException(5,t.convertToInt,"0101",2)),i.check("OK",i.checkException(7,t.convertToInt,"0111",2)),i.check("OK",i.checkException(15,t.convertToInt,"1111",2)),i.check("NG",i.checkException(15,t.convertToInt,"1 111",2)),i.check("OK",i.checkException(16,t.convertToInt,"020",8)),i.check("NG",i.checkException(15,t.convertToInt,"0 20",8)),i.check("OK",i.checkException(255,t.convertToInt,"FF",16)),i.check("OK",i.checkException(0,t.convertToInt,"00",16)),i.check("NG",i.checkException(255,t.convertToInt,"FF FF",16))},t.convertToString=function(e,t){return i.assert(r.isNumber(e)),t=r.ifUndefinedValue(t,10),i.assert(i.orValue(t,10,2,8,16)),e.toString(t)},t.test_convertToString=function(){i.check("255",t.convertToString(255)),i.check("11",t.convertToString(11)),i.check("255",t.convertToString(255)),i.check("ff",t.convertToString(255,16)),i.check("b",t.convertToString(11,16)),i.check("177",t.convertToString(127,8)),i.check("12",t.convertToString(10,8)),i.check("11",t.convertToString(3,2)),i.check("1111",t.convertToString(15,2))},t.convertToDate=function(e){i.assert(r.isString(e));var n,c=u.Date(),s=function(e,n){var c=n.split("/");e.setFullYear(t.convertToInt(c[0])),e.setMonth(t.convertToInt(c[1])-1),e.setDate(t.convertToInt(c[2]))},h=function(e,n){var c=n.split(":");if(e.setHours(t.convertToInt(c[0])),e.setMinutes(t.convertToInt(c[1])),3===c.length){var i=t.convertToNumber(c[2]);r.isInt(i)?e.setSeconds(i):(e.setSeconds(Math.floor(i)),e.setMilliseconds(o.round(1e3*(i-Math.floor(i)),1)))}};return a.checkFormat(e,"date")?(s(c,e),c):a.checkFormat(e,"date-minutes")?(s(c,(n=e.split(" "))[0]),h(c,n[1]),c):a.checkFormat(e,"date-seconds")?(s(c,(n=e.split(" "))[0]),h(c,n[1]),c):a.checkFormat(e,"date-milliseconds")?(s(c,(n=e.split(" "))[0]),h(c,n[1]),c):null},t.test_convertToDate=function(){var e;e="2017/10/04",i.check("2017/10/04",u.formatYYYYMMDD(t.convertToDate(e),"/")),i.check("00:00:00",u.formatHHMMSS(t.convertToDate(e),":")),e="2017/9/4",i.check("2017/09/04",u.formatYYYYMMDD(t.convertToDate(e),"/")),i.check("00:00:00",u.formatHHMMSS(t.convertToDate(e),":")),i.check(null,t.convertToDate("2017/10/041")),i.check(null,t.convertToDate("2017//04")),i.check(null,t.convertToDate("2017/10/04 ")),e="2017/10/04 12:34",i.check("2017/10/04",u.formatYYYYMMDD(t.convertToDate(e),"/")),i.check("12:34:00",u.formatHHMMSS(t.convertToDate(e),":")),i.check(null,t.convertToDate("2017/10/04 12:341")),i.check(null,t.convertToDate("2017/10/04 12:")),i.check(null,t.convertToDate("2017/10/04 12:34 ")),e="2017/10/4 14:3:6",i.check("2017/10/04",u.formatYYYYMMDD(t.convertToDate(e),"/")),i.check("14:03:06",u.formatHHMMSS(t.convertToDate(e),":")),i.check(null,t.convertToDate("2017/10/4 14:3:061")),i.check(null,t.convertToDate("2017/10/4 14::6")),i.check(null,t.convertToDate("2017/10/4 14:3:6 ")),e="2017/10/4 14:3:6.123",i.check("2017/10/04",u.formatYYYYMMDD(t.convertToDate(e),"/")),i.check("14:03:06",u.formatHHMMSS(t.convertToDate(e),":")),i.check(123,t.convertToDate(e).getMilliseconds()),i.check(null,t.convertToDate("2017/10/4 14:3:6.0201")),i.check(null,t.convertToDate("2017/10/4 14:3:.020")),i.check(null,t.convertToDate("2017/10/4 14::6.020")),i.check(null,t.convertToDate("2017/10/4 14:3:6.02 "))},t.dateToString=function(e){return i.assert(r.isDate(e)),e.toString()},t.test_dateToString=function(){var e;e="2018/01/10 23:41:10.001",i.check(!0,i.orValue(r.dateToString(t.convertToDate(e)),"Wed Jan 10 2018 23:41:10 GMT+0900 (東京 (標準時))","Wed Jan 10 23:41:10 UTC+0900 2018"))},t.stringToDate=function(e){return i.assert(r.isString(e)),new Date(e)},t.test_stringToDate=function(){var e;i.check("2018/01/10 23:41:10",u.formatToString(r.stringToDate("Wed Jan 10 2018 23:41:10 GMT+0900 (東京 (標準時))"),"yyyy/MM/dd HH:mm:ss")),i.check("2018/01/10 23:41:10",u.formatToString(r.stringToDate("Wed Jan 10 23:41:10 UTC+0900 2018"),"yyyy/MM/dd HH:mm:ss")),e=r.dateToString(r.stringToDate("Wed Feb 50 2018 23:41:10 GMT+0900 (東京 (標準時))")),i.check(!0,i.orValue(e,"Invalid Date","Thu Mar 22 23:41:10 UTC+0900 2018")),e=r.dateToString(r.stringToDate("Wed Feb 50 23:41:10 UTC+0900 2018")),i.check(!0,i.orValue(e,"Invalid Date","Thu Mar 22 23:41:10 UTC+0900 2018"))},t.dateToMilliseconds=function(e){return i.assert(r.isDate(e)),i.assert(!u.isInvalidDate(e)),e.getTime()},t.test_dateToMilliseconds=function(){var e;e="2018/01/10 23:41:10.001",i.check(1515595270001,r.dateToMilliseconds(t.convertToDate(e))),e="2018/01/10 23:41:10.004",i.check(1515595270004,r.dateToMilliseconds(t.convertToDate(e))),e="2018/01/10 23:41:10.005",i.check(1515595270005,r.dateToMilliseconds(t.convertToDate(e))),e="2018/01/10 23:41:10.010",i.check(1515595270010,r.dateToMilliseconds(t.convertToDate(e)))},t.millisecondsToDate=function(e){return i.assert(r.isInt(e)),new Date(e)},t.test_millisecondsToDate=function(){var e;e="2018/01/10 23:41:10.001",i.check(!0,u.equalDateMilliseconds(t.convertToDate(e),r.millisecondsToDate(1515595270001)))}}(),n.number=e.number||{},function(){var t=e.number;t.isMultiples=function(e,t){return i.assert(r.isInts(e,t)),e%t==0},t.isEven=function(e){return i.assert(r.isInt(e)),t.isMultiples(e,2)},t.isOdd=function(e){return i.assert(r.isInt(e)),!t.isMultiples(e,2)},t.round=function(e,t){var n;r.isNullOrUndefined(t)&&(t=0),i.assert(r.isInt(t));var c=e<0;return n=Math.pow(10,t),!0!==c?Math.round(e*n)/n:-1*Math.round(-1*e*n)/n},t.test_round=function(){i.check(5,t.round(5)),i.check(5,t.round(5.4)),i.check(6,t.round(5.5)),i.check(5,t.round(5,0)),i.check(5,t.round(5.4,0)),i.check(6,t.round(5.5,0)),i.check(5.4,t.round(5.44,1)),i.check(5.5,t.round(5.45,1)),i.check(5.5,t.round(5.54,1)),i.check(5.6,t.round(5.55,1)),i.check(5.04,t.round(5.044,2)),i.check(5.05,t.round(5.045,2)),i.check(5.05,t.round(5.054,2)),i.check(5.06,t.round(5.055,2)),i.check(540,t.round(544,-1)),i.check(550,t.round(545,-1)),i.check(550,t.round(554,-1)),i.check(560,t.round(555,-1)),i.check(5400,t.round(5440,-2)),i.check(5500,t.round(5450,-2)),i.check(5500,t.round(5540,-2)),i.check(5600,t.round(5550,-2)),i.check(-5,t.round(-5)),i.check(-5,t.round(-5.4)),i.check(-6,t.round(-5.5)),i.check(-5,t.round(-5,0)),i.check(-5,t.round(-5.4,0)),i.check(-6,t.round(-5.5,0)),i.check(-5.4,t.round(-5.44,1)),i.check(-5.5,t.round(-5.45,1)),i.check(-5.5,t.round(-5.54,1)),i.check(-5.6,t.round(-5.55,1)),i.check(-5.04,t.round(-5.044,2)),i.check(-5.05,t.round(-5.045,2)),i.check(-5.05,t.round(-5.054,2)),i.check(-5.06,t.round(-5.055,2)),i.check(-540,t.round(-544,-1)),i.check(-550,t.round(-545,-1)),i.check(-550,t.round(-554,-1)),i.check(-560,t.round(-555,-1)),i.check(-5400,t.round(-5440,-2)),i.check(-5500,t.round(-5450,-2)),i.check(-5500,t.round(-5540,-2)),i.check(-5600,t.round(-5550,-2))},t.nearEqual=function(e,t,n){return i.assert(r.isNumber(e)),i.assert(r.isNumber(t)),i.assert(r.isNumber(n)),i.assert(0<=n),Math.abs(e-t)<=n},t.test_nearEqual=function(){i.check(!0,t.nearEqual(.049999,.050011,.001)),i.check(!0,t.nearEqual(.05,.051,.001)),i.check(!0,t.nearEqual(.05,.0509,.001)),i.check(!0,t.nearEqual(.05,.051,.001)),i.check(!1,t.nearEqual(.05,.051000001,.001)),i.check(!0,t.nearEqual(.050011,.049999,.001)),i.check(!0,t.nearEqual(.051,.05,.001)),i.check(!0,t.nearEqual(.0509,.05,.001)),i.check(!0,t.nearEqual(.051,.05,.001)),i.check(!1,t.nearEqual(.051000001,.05,.001)),i.checkResult("ER",null,t.nearEqual,"0.50",.51,.001),i.checkResult("ER",null,t.nearEqual,.5,"0.51",.001),i.checkResult("ER",null,t.nearEqual,.5,.51,"0.001"),i.checkResult("ER",null,t.nearEqual,.5,.51,-.001)},t.inRange=function(e,t,n){return i.assert(r.isNumber(t)),i.assert(r.isNumber(n)),i.assert(t<=n),t<=e&&e<=n},t.formatDigitComma=function(e,t,n,c,s){i.assert(r.isNumber(e)),i.assert(r.isInts(n,s)),i.assert(r.isString(t,c));var o=e.toString();return r.isInt(e)?a.formatInsertLast(o,t,n):a.formatInsertLast(a.startFirstDelim(o,"."),t,n)+"."+a.formatInsertFirst(a.endFirstDelim(o,"."),c,s)},t.test_formatDigitComma=function(){i.check("123,456,789.123 456 7",t.formatDigitComma(123456789.1234567,",",3," ",3)),i.check("123,456,789",t.formatDigitComma(123456789,",",3," ",3)),i.check("1,234,567,890",t.formatDigitComma(1234567890,",",3," ",3)),i.check("0.123 456 789 012",t.formatDigitComma(.123456789012,",",3," ",3)),i.check("0.012 345 678 901 2",t.formatDigitComma(.0123456789012,",",3," ",3))},t.randomInt=function(e,t){return i.assert(r.isInts(e,t)),Math.floor(Math.random()*(t+1-e))+e}}(),n.angle=e.angle||{},function(){var t=e.angle;t.degToRad=function(e){return e*Math.PI/180},t.radToDeg=function(e){return 180*e/Math.PI},t.test_degToRad=function(){i.check(0,t.degToRad(0)),i.check(Math.PI/6,t.degToRad(30)),i.check(0,t.radToDeg(0)),i.check(30,Math.round(t.radToDeg(Math.PI/6)))},t.relative=function(e,t){var n=(t%=360)-(e%=360);return 180<n?n-=360:n<-180&&(n+=360),n},t.test_relative=function(){i.check(10,t.relative(5,15)),i.check(-10,t.relative(15,5)),i.check(90,t.relative(90,180)),i.check(180,t.relative(90,270)),i.check(180,t.relative(0,180)),i.check(-179,t.relative(0,181)),i.check(179,t.relative(181,0)),i.check(-179,t.relative(179,0))},t.sin=function(e){return Math.sin(t.degToRad(e))},t.cos=function(e){return Math.cos(t.degToRad(e))},t.tan=function(e){return Math.tan(t.degToRad(e))},t.asin=function(e){return t.radToDeg(Math.asin(e))},t.acos=function(e){return t.radToDeg(Math.acos(e))},t.atan=function(e){return t.radToDeg(Math.atan(e))}}(),n.array=e.array||{},function(){var t=e.array;t.clone=function(e){return e.concat()},t.equal=function(e,n){if(i.assert(r.isArray(e)),i.assert(r.isArray(n)),e.length!==n.length)return!1;for(var c=0,s=e.length;c<s;c+=1){if(r.typeName(e[c])!==r.typeName(n[c]))return!1;if(r.isArray(e[c])){if(!t.equal(e[c],n[c]))return!1}else if(r.isFunction(e[c])){if(e[c].toString()!==n[c].toString())return!1}else if(r.isDate(e[c])){if(e[c].toString()!==n[c].toString())return!1}else if(r.isObject(e[c])){if(e[c]!==n[c])return!1}else if(e[c]!==n[c])return!1}return!0},t.test_equal=function(){var e=[1,2,3],n=[1,2,3];i.check(!1,e==n),i.check(!1,e===n),e=[[1,2],3],n=[1,[2,3]],i.check(!0,e.toString()===n.toString()),i.check(!1,t.equal(e,n))},t.fromArgs=function(e){return Array.prototype.slice.call(e)},t.min=function(e){if(i.assert(r.isArray(e)),0===e.length)return null;for(var t=1/0,n=0,c=e.length;n<c;n+=1)e[n]<t&&(t=e[n]);return t},t.max=function(e){if(i.assert(r.isArray(e)),0===e.length)return null;for(var t=-1/0,n=0,c=e.length;n<c;n+=1)t<e[n]&&(t=e[n]);return t},t.sum=function(e){i.assert(r.isArray(e));for(var t,n=0,c=0,s=e.length;c<s;c+=1)t=e[c],i.assert(r.isNumber(t)),n+=t;return n},t.average=function(e){return t.sum(e)/e.length},t.test_average=function(){i.check(71,t.average([52,52,70,72,80,100])),i.check(22,t.average([6,9,9,10,10,10,100]))},t.median=function(e){var n=t.clone(e);return n.sort(function(e,t){return e-t}),n.length%2==0?(n[n.length/2-1]+n[n.length/2])/2:n[(n.length-1)/2]},t.test_median=function(){i.check(71,t.median([52,70,72,80,100,52])),i.check(10,t.median([6,9,9,10,10,10,100]))},t.mode=function(e){var n,c,i=[];for(n=0,c=e.length;n<c;n+=1)r.isUndefined(i[e[n]])?i[e[n]]=1:i[e[n]]+=1;var s=t.max(i);if(1===s)return null;for(n=0,c=i.length;n<c;n+=1)if(i[n]===s)return n},t.test_mode=function(){i.check(52,t.mode([70,72,52,80,100,52])),i.check(10,t.mode([6,9,9,10,10,10,100]))},t.diffMinMax=function(e){return t.max(e)-t.min(e)},t.test_diffMinMax=function(){i.check(48,t.diffMinMax([52,52,70,72,80,100]))},t.insert=function(e,t,n){return i.assert(r.isArray(e)),n=r.ifUndefinedValue(n,0),i.assert(r.isInt(n)),i.assert(o.inRange(n,0,e.length)),e.splice(n,0,t),e},t.test_insert=function(){var e=[1,2,3],n=t.insert(e,0);i.check(!0,t.equal([0,1,2,3],e)),i.check(!0,t.equal([0,1,2,3],n)),e[0]=4,i.check(!0,t.equal([4,1,2,3],e)),i.check(!0,t.equal([4,1,2,3],n)),i.check(!0,t.equal([4,0,1,2,3],t.insert(e,0,1))),i.check(!0,t.equal([4,0,1,2,3,4],t.insert(e,4,5)))},t.insertAdd=function(e,n,c){return i.assert(r.isInt(c)),t.insert(e,n,c+1)},t.test_insertAdd=function(){var e=[1,2,3],n=t.insertAdd(e,0,0);i.check(!0,t.equal([1,0,2,3],e)),i.check(!0,t.equal([1,0,2,3],n)),e[0]=4,i.check(!0,t.equal([4,0,2,3],e)),i.check(!0,t.equal([4,0,2,3],n)),i.check(!0,t.equal([4,0,0,2,3],t.insertAdd(e,0,1))),i.check(!0,t.equal([4,0,0,2,3,4],t.insertAdd(e,4,4)))},t.add=function(e,n){return t.insert(e,n,e.length),e},t.test_add=function(){var e=[1,2,3],n=t.add(e,0);i.check(!0,t.equal([1,2,3,0],e)),i.check(!0,t.equal([1,2,3,0],n)),e[0]=4,i.check(!0,t.equal([4,2,3,0],e)),i.check(!0,t.equal([4,2,3,0],n)),i.check(!0,t.equal([4,2,3,0,0],t.add(e,0))),i.check(!0,t.equal([4,2,3,0,0,4],t.add(e,4)))},t.deleteIndex=function(e,t,n){return i.assert(r.isArray(e)),n=r.ifUndefinedValue(n,t),i.assert(r.isInt(t,n)),i.assert(0<=t&&t<=e.length-1),i.assert(0<=n),i.assert(t<=n),e.splice(t,n-t+1),e},t.test_deleteIndex=function(){i.check(!0,t.equal([1,3],t.deleteIndex([1,2,3],1,1))),i.check(!0,t.equal([1],t.deleteIndex([1,2,3],1,2))),i.check(!0,t.equal([],t.deleteIndex([1,2,3],0,3))),i.check(!0,t.equal([1,5],t.deleteIndex([1,2,3,4,5],1,3))),i.check(!0,t.equal([1,2,4,5],t.deleteIndex([1,2,3,4,5],2)))},t.deleteLength=function(e,t,n){return i.assert(r.isArray(e)),n=r.ifUndefinedValue(n,e.length-t),i.assert(r.isInt(t,n)),i.assert(0<=t&&t<=e.length-1),i.assert(1<=n),e.splice(t,n),e},t.test_deleteLength=function(){i.check(!0,t.equal([1,3],t.deleteLength([1,2,3],1,1))),i.check(!0,t.equal([3],t.deleteLength([1,2,3],0,2))),i.check(!0,t.equal([],t.deleteLength([1,2,3],0,3))),i.check(!0,t.equal([1,5],t.deleteLength([1,2,3,4,5],1,3))),i.check(!0,t.equal([1],t.deleteLength([1,2,3,4,5],1)))},t.deleteFind=function(e,n){i.assert(r.isArray(e));var c=t.indexOfFirst(e,n);return-1!==c&&e.splice(c,1),e},t.test_deleteFind=function(){i.check(!0,t.equal([1,3],t.deleteFind([1,2,3],2))),i.check(!0,t.equal([2,3],t.deleteFind([1,2,3],1))),i.check(!0,t.equal([1,2,3],t.deleteFind([1,2,3],0))),i.check(!0,t.equal([1,2,4,5],t.deleteFind([1,2,3,4,5],3))),i.check(!0,t.equal([1,3,1,2,3],t.deleteFind([1,2,3,1,2,3],2))),i.check(!0,t.equal([2,3,1,2,3],t.deleteFind([1,2,3,1,2,3],1))),i.check(!0,t.equal([1,2,3,1,2,3],t.deleteFind([1,2,3,1,2,3],0))),i.check(!0,t.equal([1,2,4,5],t.deleteFind([1,2,3,4,5],3)))},t.deleteFindAll=function(e,n){for(var c;;){if(-1===(c=t.indexOfFirst(e,n)))break;e.splice(c,1)}return e},t.test_deleteFindAll=function(){i.check(!0,t.equal([1,3],t.deleteFindAll([1,2,3],2))),i.check(!0,t.equal([2,3],t.deleteFindAll([1,2,3],1))),i.check(!0,t.equal([1,2,3],t.deleteFindAll([1,2,3],0))),i.check(!0,t.equal([1,2,4,5],t.deleteFindAll([1,2,3,4,5],3))),i.check(!0,t.equal([1,3,1,3],t.deleteFindAll([1,2,3,1,2,3],2))),i.check(!0,t.equal([2,3,2,3],t.deleteFindAll([1,2,3,1,2,3],1))),i.check(!0,t.equal([1,2,3,1,2,3],t.deleteFindAll([1,2,3,1,2,3],0))),i.check(!0,t.equal([1,2,4,5],t.deleteFindAll([1,2,3,4,5],3)))},t.deleteStart=function(e,n){return i.assert(r.isArray(e)),i.assert(r.isInt(n)&&0<=n),0===n?e:t.deleteLength(e,0,n)},t.test_deleteStart=function(){i.check("2345",t.deleteStart("12345".split(""),1).join("")),i.check("345",t.deleteStart("12345".split(""),2).join("")),i.check("45",t.deleteStart("12345".split(""),3).join("")),i.check("12345",t.deleteStart("12345".split(""),0).join("")),i.check("",t.deleteStart("12345".split(""),5).join("")),i.check("",t.deleteStart("12345".split(""),6).join(""))},t.deleteEnd=function(e,n){return i.assert(r.isArray(e)),i.assert(r.isInt(n)&&0<=n),0===n?e:t.deleteLength(e,Math.max(e.length-n,0))},t.test_deleteEnd=function(){i.check("1234",t.deleteEnd("12345".split(""),1).join("")),i.check("123",t.deleteEnd("12345".split(""),2).join("")),i.check("12",t.deleteEnd("12345".split(""),3).join("")),i.check("12345",t.deleteEnd("12345".split(""),0).join("")),i.check("",t.deleteEnd("12345".split(""),5).join("")),i.check("",t.deleteEnd("12345".split(""),6).join(""))},t.isInclude=function(e,n){return-1!==t.indexOfFirst(e,n)},t.includes=function(e,n){return t.isInclude(e,n)},t.contains=function(e,n){return t.isInclude(e,n)},t.isIncludeAny=function(e,n){return-1!==t.indexOfAnyFirst(e,n).index},t.test_isIncludeAny=function(){i.checkResult("ER",null,t.isIncludeAny,[1,2,3],[]),i.check(!1,t.isIncludeAny([1,2,3],[4,5])),i.check(!0,t.isIncludeAny([1,2,3],[1,3])),i.check(!0,t.isIncludeAny([1,2,3],[2,3])),i.check(!0,t.isIncludeAny([1,2,3],[null,3])),i.check(!1,t.isIncludeAny([1,2,3],[null,null]))},t.isIncludeFunc=function(e,n){return-1!==t.indexOfFuncFirst(e,n)},t.test_isIncludeFunc=function(){i.check(!1,t.isIncludeFunc("abc def ghi abc".split(""),function(){return!1})),i.check(!1,t.isIncludeFunc("abc def ghi abc".split(""),function(e,t,n){return i.orValue(e,"x","y","z")})),i.check(!0,t.isIncludeFunc("abc def ghi abc".split(""),function(e,t,n){return i.orValue(e,"d","g","i")})),i.check(!0,t.isIncludeFunc("abc def ghi abc".split(""),function(e,t,n){return i.orValue(e,"d","y","z")})),i.check(!0,t.isIncludeFunc("abc def ghi abc".split(""),function(e,t,n){return i.orValue(e,"x","y","i")}))},t.setInclude=function(e,n){return t.setExclude(e,n),t.add(e,n),e},t.test_setInclude=function(){var e=[1,2,3],n=t.setInclude(e,0);i.check(!0,t.equal([1,2,3,0],e)),i.check(!0,t.equal([1,2,3,0],n)),e[0]=0,i.check(!0,t.equal([0,2,3,0],e)),i.check(!0,t.equal([0,2,3,0],n)),n=t.setInclude(e,0),i.check(!0,t.equal([2,3,0],e)),i.check(!0,t.equal([2,3,0],n)),n=t.setInclude(e,3),i.check(!0,t.equal([2,0,3],e)),i.check(!0,t.equal([2,0,3],n))},t.setExclude=function(e,n){for(;;){var c=t.indexOfFirst(e,n);if(-1===c)break;t.deleteLength(e,c,1)}return e},t.indexOfFirst=function(e,t,n){if(i.assert(r.isArray(e)),n=r.ifUndefinedValue(n,0),i.assert(r.isInt(n)),0===e.length)return-1;n<0&&(n+=e.length);for(var c=n,s=e.length;c<s;c+=1)if(e[c]===t)return c;return-1},t.test_indexOfFirst=function(){i.check(-1,t.indexOfFirst(["a","b","c"],"d")),i.check(0,t.indexOfFirst(["a","b","c"],"a")),i.check(1,t.indexOfFirst(["a","b","c"],"b")),i.check(2,t.indexOfFirst(["a","b","c"],"c")),i.check(-1,t.indexOfFirst(["a","b","c"],"")),i.check(0,t.indexOfFirst(["a","b","c","a","b","c"],"a")),i.check(1,t.indexOfFirst(["a","b","c","a","b","c"],"b")),i.check(2,t.indexOfFirst(["a","b","c","a","b","c"],"c")),i.check(0,t.indexOfFirst(["a","b","c","a","b","c"],"a",0)),i.check(3,t.indexOfFirst(["a","b","c","a","b","c"],"a",1)),i.check(1,t.indexOfFirst(["a","b","c","a","b","c"],"b",1)),i.check(4,t.indexOfFirst(["a","b","c","a","b","c"],"b",2)),i.check(2,t.indexOfFirst(["a","b","c","a","b","c"],"c",2)),i.check(5,t.indexOfFirst(["a","b","c","a","b","c"],"c",3)),i.check(-1,t.indexOfFirst(["a","b","c","a","b","c"],"a",-1)),i.check(3,t.indexOfFirst(["a","b","c","a","b","c"],"a",-3)),i.check(-1,t.indexOfFirst(["a","b","c","a","b","c"],"b",-1)),i.check(4,t.indexOfFirst(["a","b","c","a","b","c"],"b",-2)),i.check(5,t.indexOfFirst(["a","b","c","a","b","c"],"c",-1)),i.check(2,t.indexOfFirst(["a","b","c","a","b","c"],"c",-4))},t.indexOfLast=function(e,t,n){if(i.assert(r.isArray(e)),n=r.ifUndefinedValue(n,e.length-1),i.assert(r.isInt(n)),0===e.length)return-1;n<0&&(n+=e.length);for(var c=n;0<=c;c-=1)if(e[c]===t)return c;return-1},t.test_indexOfLast=function(){i.check(-1,t.indexOfLast(["a","b","c"],"d")),i.check(0,t.indexOfLast(["a","b","c"],"a")),i.check(1,t.indexOfLast(["a","b","c"],"b"),"03"),i.check(2,t.indexOfLast(["a","b","c"],"c")),i.check(-1,t.indexOfLast(["a","b","c"],"")),i.check(3,t.indexOfLast(["a","b","c","a","b","c"],"a")),i.check(4,t.indexOfLast(["a","b","c","a","b","c"],"b")),i.check(5,t.indexOfLast(["a","b","c","a","b","c"],"c")),i.check(0,t.indexOfLast(["a","b","c","a","b","c"],"a",1)),i.check(3,t.indexOfLast(["a","b","c","a","b","c"],"a",3)),i.check(1,t.indexOfLast(["a","b","c","a","b","c"],"b",1)),i.check(4,t.indexOfLast(["a","b","c","a","b","c"],"b",4)),i.check(2,t.indexOfLast(["a","b","c","a","b","c"],"c",2)),i.check(5,t.indexOfLast(["a","b","c","a","b","c"],"c",5)),i.check(3,t.indexOfLast(["a","b","c","a","b","c"],"a",-1)),i.check(0,t.indexOfLast(["a","b","c","a","b","c"],"a",-4)),i.check(0,t.indexOfLast(["a","b","c","a","b","c"],"a",-6)),i.check(-1,t.indexOfLast(["a","b","c","a","b","c"],"a",-7)),i.check(4,t.indexOfLast(["a","b","c","a","b","c"],"b",-1)),i.check(1,t.indexOfLast(["a","b","c","a","b","c"],"b",-3)),i.check(1,t.indexOfLast(["a","b","c","a","b","c"],"b",-5)),i.check(-1,t.indexOfLast(["a","b","c","a","b","c"],"b",-6)),i.check(5,t.indexOfLast(["a","b","c","a","b","c"],"c",-1)),i.check(2,t.indexOfLast(["a","b","c","a","b","c"],"c",-2)),i.check(2,t.indexOfLast(["a","b","c","a","b","c"],"c",-4)),i.check(-1,t.indexOfLast(["a","b","c","a","b","c"],"c",-5))},t.indexOfArrayFirst=function(e,n,c){if(i.assert(r.isArray(e)),i.assert(r.isArray(n)),c=r.ifUndefinedValue(c,0),i.assert(r.isInt(c)),0===e.length)return-1;c<0&&(c+=e.length);for(var s=c,o=e.length;s<o;s+=1)if(t.equal(e[s],n))return s;return-1},t.test_indexOfArrayFirst=function(){var e=[];e.push([1,1,1]),e.push([2,2,2]),e.push([3,3,3]),e.push([1,1,1]),e.push([2,2,2]),e.push([3,3,3]);i.check(-1,t.indexOfArrayFirst(e,[1,2,3])),i.check(0,t.indexOfArrayFirst(e,[1,1,1])),i.check(1,t.indexOfArrayFirst(e,[2,2,2])),i.check(2,t.indexOfArrayFirst(e,[3,3,3])),i.check(3,t.indexOfArrayFirst(e,[1,1,1],1)),i.check(4,t.indexOfArrayFirst(e,[2,2,2],2)),i.check(5,t.indexOfArrayFirst(e,[3,3,3],3))},t.indexOfArrayLast=function(e,n,c){if(i.assert(r.isArray(e)),i.assert(r.isArray(n)),c=r.ifUndefinedValue(c,e.length-1),i.assert(r.isInt(c)),0===e.length)return-1;c<0&&(c+=e.length);for(var s=c;0<=s;s-=1)if(t.equal(e[s],n))return s;return-1},t.test_indexOfArrayLast=function(){var e=[];e.push([1,1,1]),e.push([2,2,2]),e.push([3,3,3]),e.push([1,1,1]),e.push([2,2,2]),e.push([3,3,3]);i.check(-1,t.indexOfArrayLast(e,[1,2,3])),i.check(3,t.indexOfArrayLast(e,[1,1,1])),i.check(4,t.indexOfArrayLast(e,[2,2,2])),i.check(5,t.indexOfArrayLast(e,[3,3,3])),i.check(3,t.indexOfArrayLast(e,[1,1,1],-1)),i.check(3,t.indexOfArrayLast(e,[1,1,1],-3)),i.check(0,t.indexOfArrayLast(e,[1,1,1],-4)),i.check(0,t.indexOfArrayLast(e,[1,1,1],-6)),i.check(-1,t.indexOfArrayLast(e,[1,1,1],-7)),i.check(4,t.indexOfArrayLast(e,[2,2,2],-1)),i.check(4,t.indexOfArrayLast(e,[2,2,2],-2)),i.check(1,t.indexOfArrayLast(e,[2,2,2],-3)),i.check(1,t.indexOfArrayLast(e,[2,2,2],-5)),i.check(-1,t.indexOfArrayLast(e,[2,2,2],-6)),i.check(5,t.indexOfArrayLast(e,[3,3,3],-1)),i.check(2,t.indexOfArrayLast(e,[3,3,3],-2)),i.check(2,t.indexOfArrayLast(e,[3,3,3],-4)),i.check(-1,t.indexOfArrayLast(e,[3,3,3],-5))},t.indexOfAnyFirst=function(e,n,c){i.assert(r.isArray(e)),i.assert(r.isArray(n)),c=r.ifUndefinedValue(c,0),i.assert(r.isInt(c));for(var s,o=1/0,a=-1,u=0,h=n.length;u<h;u+=1)-1!==(s=t.indexOfFirst(e,n[u],c))&&s<o&&(o=s,a=u);return{index:o===1/0?-1:o,indexAny:a}},t.indexOfAnyLast=function(e,n,c){i.assert(r.isArray(e)),i.assert(r.isArray(n)),c=r.ifUndefinedValue(c,e.length-1),i.assert(r.isInt(c));for(var s,o=-1,a=-1,u=0,h=n.length;u<h;u+=1)-1!==(s=t.indexOfLast(e,n[u],c))&&o<s&&(o=s,a=u);return{index:o,indexAny:a}},t.indexOfFuncFirst=function(e,t,n){i.assert(r.isArray(e)),i.assert(r.isFunction(t)),n=r.ifUndefinedValue(n,0),i.assert(r.isInt(n));for(var c=n,s=e.length;c<s;c+=1)if(t(e[c],c,e))return c;return-1},t.indexOfFuncLast=function(e,t,n){i.assert(r.isArray(e)),i.assert(r.isFunction(t)),n=r.ifUndefinedValue(n,e.length-1),i.assert(r.isInt(n));for(var c=n;0<=c;c-=1)if(t(e[c],c,e))return c;return-1},t.inputStart=function(e,t){return i.assert(r.isArray(e)),e.unshift(t),e},t.inputEnd=function(e,t){return i.assert(r.isArray(e)),e.push(t),e},t.outputStart=function(e){return i.assert(r.isArray(e)),e.shift()},t.outputEnd=function(e){return i.assert(r.isArray(e)),e.pop()},t.inputStartArray=function(e,t){i.assert(r.isArray(e)),i.assert(r.isArray(t));for(var n=0,c=t.length;n<c;n+=1)e.unshift(t[n]);return e},t.inputEndArray=function(e,t){i.assert(r.isArray(e)),i.assert(r.isArray(t));for(var n=0,c=t.length;n<c;n+=1)e.push(t[n]);return e},t.outputStartArray=function(e,n){i.assert(r.isArray(e)),i.assert(r.isInt(n));for(var c=[],s=0;s<n;s+=1)t.inputEnd(c,t.outputStart(e));return c},t.test_outputStartArray=function(){i.check(!0,t.equal([1],t.outputStartArray([1,2,3,4,5],1))),i.check(!0,t.equal([1,2,3],t.outputStartArray([1,2,3,4,5],3))),i.check(!0,t.equal([1,2,3,4,5],t.outputStartArray([1,2,3,4,5],5))),i.check(!0,t.equal([1,2,3,4,5,void 0],t.outputStartArray([1,2,3,4,5],6)))},t.outputEndArray=function(e,n){i.assert(r.isArray(e)),i.assert(r.isInt(n));for(var c=[],s=0;s<n;s+=1)t.inputStart(c,t.outputEnd(e));return c},t.test_outputEndArray=function(){i.check(!0,t.equal([5],t.outputEndArray([1,2,3,4,5],1))),i.check(!0,t.equal([3,4,5],t.outputEndArray([1,2,3,4,5],3))),i.check(!0,t.equal([1,2,3,4,5],t.outputEndArray([1,2,3,4,5],5))),i.check(!0,t.equal([void 0,1,2,3,4,5],t.outputEndArray([1,2,3,4,5],6)))},t.remainStart=function(e,n){return i.assert(r.isArray(e)),i.assert(r.isInt(n)),i.assert(0<=n),n<e.length&&t.deleteLength(e,n),e},t.test_remainStart=function(){i.check(!0,t.equal([1,2,3],t.remainStart([1,2,3,4,5],3))),i.check(!0,t.equal([],t.remainStart([1,2,3,4,5],0))),i.check(!0,t.equal([1,2,3,4,5],t.remainStart([1,2,3,4,5],5))),i.check(!0,t.equal([1,2,3,4,5],t.remainStart([1,2,3,4,5],6)))},t.remainEnd=function(e,n){return i.assert(r.isArray(e)),i.assert(r.isInt(n)),i.assert(0<=n),n<e.length&&t.deleteLength(e,0,e.length-n),e},t.test_remainEnd=function(){i.check(!0,t.equal([3,4,5],t.remainEnd([1,2,3,4,5],3))),i.check(!0,t.equal([],t.remainEnd([1,2,3,4,5],0))),i.check(!0,t.equal([1,2,3,4,5],t.remainEnd([1,2,3,4,5],5))),i.check(!0,t.equal([1,2,3,4,5],t.remainEnd([1,2,3,4,5],6)))},t.sortPattern=function(e,t,n){i.assert(r.isArray(e)),i.assert(i.orValue(n,"ascending","descending"));var c="ascending"===n;switch(t){case"number":c?e.sort(function(e,t){return e-t}):e.sort(function(e,t){return t-e});break;case"length":c?e.sort(function(e,t){return e.length-t.length}):e.sort(function(e,t){return t.length-e.length});break;case"dictionary":c?e.sort(function(e,t){return e.toString().toLowerCase()-t.toString().toLowerCase()}):e.sort(function(e,t){return t.toString().toLowerCase()-e.toString().toLowerCase()});break;default:i.assert(!1,"Error:stsLib.array.sortPattern:It is not exist pattern "+t+".")}},t.dimension=e.array.dimension||{},function(){var t=e.array.dimension;t.toString=function(e){i.assert(r.isArray(e));var t=function(e){if(0===e.length)return"[]";for(var n="[",c=0,r=e.length;c<r;c+=1)Array.isArray(e[c])?n+=t(e[c]):n+=e[c].toString(),c===e.length-1?n+="]":n+=",";return n};return t(e)},t.expand2Dimension=function(e){i.assert(r.isArray(e));for(var t=[],n=0,c=e.length;n<c;n+=1){var s=e[n];if(r.isArray(s))if(0===s.length)t.push(void 0);else for(var o=0,a=s.length;o<a;o+=1)t.push(s[o]);else t.push(s)}return t},t.test_expand2Dimension=function(){i.check("1,2,3,4",t.expand2Dimension([1,2,3,4]).join()),i.check("1,2,3,4",t.expand2Dimension([[1,2],3,4]).join()),i.check("1,2,3,4",t.expand2Dimension([[1,2],[3,4]]).join()),i.check("1,2,3,4,5,6",t.expand2Dimension([1,2,3,4,5,6]).join()),i.check("1,2,3,4,5,6",t.expand2Dimension([[1,2],[3,4],5,6]).join()),i.check("1,2,3,4,5,6",t.expand2Dimension([[1,2,3,4],5,6]).join()),i.check("1,2,3,4,5,6",t.expand2Dimension([[1,[2,3],4],5,6]).join()),i.check("1,2,3,4,5,6",t.expand2Dimension([[[1,[2,3]],4],[5,6]]).join()),i.check("1,2,3,4,5,6",t.expand2Dimension([[[[[[1],2],3],4],5],6]).join()),i.check("1,2,3,4,5,6,7,8",t.expand2Dimension([[1,[2,3],4],[5,[6,7],8]]).join()),i.check("",[].join()),i.check("",[].join(",")),i.check("1",[1].join(",")),i.check("1,2",[1,2].join(",")),i.check("1,2,3,4,5,6,7,8",[[1,[2,3],4],[5,[6,7],8]].join()),i.check("1,,4,5,6,7,8",[[1,"",4],[5,[6,7],8]].join()),i.check(0,[].length),i.check(1,[void 0].length),i.check(2,[void 0,void 0].length),i.check(0,t.expand2Dimension([]).length),i.check(1,t.expand2Dimension([void 0]).length),i.check(2,t.expand2Dimension([void 0,void 0]).length),i.check(2,t.expand2Dimension([[void 0,void 0]]).length),i.check(1,t.expand2Dimension([[]]).length),i.check(2,t.expand2Dimension([[],[]]).length),i.check(3,t.expand2Dimension([[[],[]],[]]).length),i.check(2,t.expand2Dimension([[1,2]]).length),i.check("",t.expand2Dimension([]).join()),i.check(0,t.expand2Dimension([]).length),i.check(",3,",t.expand2Dimension([[],[3],[]]).join()),i.check(",3,4,",t.expand2Dimension([[],[3,4],[]]).join()),i.check(",3,4,",t.expand2Dimension([[],[3],[4],[]]).join()),i.check(",3,4,",t.expand2Dimension([[],[[3],[4]],[]]).join()),i.check(",3,4,",[[],[[3],[4]],[]].join()),i.check("1,,2,,3",t.expand2Dimension([1,[],2,[[],3]]).join()),i.check(5,t.expand2Dimension([1,[],2,[[],3]]).length),i.check("1,,2,,3",t.expand2Dimension(["1",[],"2",[[],"3"]]).join()),i.check(5,t.expand2Dimension(["1",[],"2",[[],"3"]]).length),i.check("1,,2,,3",t.expand2Dimension(["1",[""],"2",[[""],"3"]]).join()),i.check(5,t.expand2Dimension(["1",[""],"2",[[""],"3"]]).length),i.check("1,,2,,3",t.expand2Dimension([["1",[[""],"2"]],[[""],"3"]]).join()),i.check(4,t.expand2Dimension([["1",[[""],"2"]],[[""],"3"]]).length)},t.expandMultiDimension=function(e){i.assert(r.isArray(e));var t=[],n=function(e){if(0===e.length)t.push(void 0);else for(var c=0,i=e.length;c<i;c+=1){var s=e[c];r.isArray(s)?n(s):t.push(s)}};return 0!==e.length&&n(e),t},t.test_expandMultiDimension=function(){i.check("1,2,3,4",t.expandMultiDimension([1,2,3,4]).join()),i.check("1,2,3,4",t.expandMultiDimension([[1,2],3,4]).join()),i.check("1,2,3,4",t.expandMultiDimension([[1,2],[3,4]]).join()),i.check("1,2,3,4,5,6",t.expandMultiDimension([1,2,3,4,5,6]).join()),i.check("1,2,3,4,5,6",t.expandMultiDimension([[1,2],[3,4],5,6]).join()),i.check("1,2,3,4,5,6",t.expandMultiDimension([[1,2,3,4],5,6]).join()),i.check("1,2,3,4,5,6",t.expandMultiDimension([[1,[2,3],4],5,6]).join()),i.check("1,2,3,4,5,6",t.expandMultiDimension([[[1,[2,3]],4],[5,6]]).join()),i.check("1,2,3,4,5,6",t.expandMultiDimension([[[[[[1],2],3],4],5],6]).join()),i.check("1,2,3,4,5,6,7,8",t.expandMultiDimension([[1,[2,3],4],[5,[6,7],8]]).join()),i.check("",[].join()),i.check("",[].join(",")),i.check("1",[1].join(",")),i.check("1,2",[1,2].join(",")),i.check("1,2,3,4,5,6,7,8",[[1,[2,3],4],[5,[6,7],8]].join()),i.check("1,,4,5,6,7,8",[[1,"",4],[5,[6,7],8]].join()),i.check(0,[].length),i.check(1,[void 0].length),i.check(2,[void 0,void 0].length),i.check(0,t.expandMultiDimension([]).length),i.check(1,t.expandMultiDimension([void 0]).length),i.check(2,t.expandMultiDimension([void 0,void 0]).length),i.check(2,t.expandMultiDimension([[void 0,void 0]]).length),i.check(1,t.expandMultiDimension([[]]).length),i.check(2,t.expandMultiDimension([[],[]]).length),i.check(3,t.expandMultiDimension([[[],[]],[]]).length),i.check("",t.expandMultiDimension([]).join()),i.check(0,t.expandMultiDimension([]).length),i.check(",3,",t.expandMultiDimension([[],[3],[]]).join()),i.check(",3,4,",t.expandMultiDimension([[],[3,4],[]]).join()),i.check(",3,4,",t.expandMultiDimension([[],[3],[4],[]]).join()),i.check(",3,4,",t.expandMultiDimension([[],[[3],[4]],[]]).join()),i.check(",3,4,",[[],[[3],[4]],[]].join()),i.check("1,,2,,3",t.expandMultiDimension([1,[],2,[[],3]]).join()),i.check(5,t.expandMultiDimension([1,[],2,[[],3]]).length),i.check("1,,2,,3",t.expandMultiDimension(["1",[],"2",[[],"3"]]).join()),i.check(5,t.expandMultiDimension(["1",[],"2",[[],"3"]]).length),i.check("1,,2,,3",t.expandMultiDimension(["1",[""],"2",[[""],"3"]]).join()),i.check(5,t.expandMultiDimension(["1",[""],"2",[[""],"3"]]).length)},t.flatten=function(t,n){r.isUndefined(n)&&(n=1),i.assert(r.isArray(t)),i.assert(r.isInt(n));var c=t;if(1<=n)for(var s=0,o=n;s<o;s+=1)c=Array.prototype.concat.apply([],c);else for(;e.array.isIncludeFunc(c,function(e){return Array.isArray(e)});)c=Array.prototype.concat.apply([],c);return c},t.test_flatten=function(){i.check("[1,2,3,4]",t.toString([1,2,3,4])),i.check("[1,2,3,[4]]",t.toString([1,2,3,[4]])),i.check("[1,2,[3,[4]]]",t.toString([1,2,[3,[4]]])),i.check("[1,[2,[3,[4]]]]",t.toString([1,[2,[3,[4]]]])),i.check("[1,2,3,4]",t.toString(t.flatten([1,2,3,4]))),i.check("[1,2,3,4]",t.toString(t.flatten([1,2,3,[4]]))),i.check("[1,2,3,[4]]",t.toString(t.flatten([1,2,[3,[4]]]))),i.check("[1,2,[3,[4]]]",t.toString(t.flatten([1,[2,[3,[4]]]]))),i.check("[1,2,3,4]",t.toString(t.flatten([1,2,3,4],2))),i.check("[1,2,3,4]",t.toString(t.flatten([1,2,3,[4]],2))),i.check("[1,2,3,4]",t.toString(t.flatten([1,2,[3,[4]]],2))),i.check("[1,2,3,[4]]",t.toString(t.flatten([1,[2,[3,[4]]]],2))),i.check("[1,2,3,4]",t.toString(t.flatten([1,2,3,4],3))),i.check("[1,2,3,4]",t.toString(t.flatten([1,2,3,[4]],3))),i.check("[1,2,3,4]",t.toString(t.flatten([1,2,[3,[4]]],3))),i.check("[1,2,3,4]",t.toString(t.flatten([1,[2,[3,[4]]]],3))),i.check("[1,2,3,4,5,6,7]",t.toString(t.flatten([1,[2,[3,[4,[5,[6,[7]]]]]]],0))),i.check("[]",t.toString(t.flatten([]))),i.check("[]",t.toString(t.flatten([[]]))),i.check("[[]]",t.toString(t.flatten([[[]]]))),i.check("[]",t.toString(t.flatten([[],[],[]]))),i.check("[[],[],[]]",t.toString(t.flatten([[[],[],[]]]))),i.check("[[],[],[]]",t.toString(t.flatten([[[]],[[]],[[]]]))),i.check("[]",t.toString(t.flatten([],0))),i.check("[]",t.toString(t.flatten([[]],0))),i.check("[]",t.toString(t.flatten([[[]]],0))),i.check("[]",t.toString(t.flatten([[],[],[]],0))),i.check("[]",t.toString(t.flatten([[[],[],[]]],0))),i.check("[]",t.toString(t.flatten([[[]],[[]],[[]]],0)))}}()}(),n.string=e.string||{},function(){var t=e.string;t.isEmptyLine=function(e){return t.isIncludeAll(e,[" ","\t","\r","\n","　"])},t.excludeEndLineBreak=function(e){return t.excludeEnd(t.excludeEnd(e,["\n"]),["\r"])},t.deleteIndex=function(e,t,n){return s.deleteIndex(e.split(""),t,n).join("")},t.test_deleteIndex=function(){i.check("abde",t.deleteIndex("abcde",2,2)),i.check("abe",t.deleteIndex("abcde",2,3)),i.check("de",t.deleteIndex("abcde",0,2)),i.check("ae",t.deleteIndex("abcde",1,3)),i.check("abde",t.deleteIndex("abcde",2))},t.deleteLength=function(e,t,n){return s.deleteLength(e.split(""),t,n).join("")},t.test_deleteLength=function(){i.check("abde",t.deleteLength("abcde",2,1)),i.check("abe",t.deleteLength("abcde",2,2)),i.check("de",t.deleteLength("abcde",0,3)),i.check("ae",t.deleteLength("abcde",1,3)),i.check("ab",t.deleteLength("abcde",2))},t.isInclude=function(e,n){return 0<=t.indexOfFirst(e,n)},t.includes=function(e,n){return t.isInclude(e,n)},t.contains=function(e,n){return t.isInclude(e,n)},t.test_isInclude=function(){i.check(!0,t.isInclude("abc","a")),i.check(!0,t.isInclude("abc","b")),i.check(!0,t.isInclude("abc","c")),i.check(!1,t.isInclude("abc","d")),i.check(!1,t.isInclude("abc","")),i.check(!1,t.isInclude("","a"))},t.isIncludeAny=function(e,n){return-1!==t.indexOfAnyFirst(e,n).index},t.test_isIncludeAny=function(){i.checkResult("ER",null,t.isIncludeAny,"abc",[]),i.check(!1,t.isIncludeAny("abc",["d","e"])),i.check(!0,t.isIncludeAny("abc",["a","c"])),i.check(!0,t.isIncludeAny("abc",["b","c"])),i.check(!0,t.isIncludeAny("abc",["","c"])),i.check(!1,t.isIncludeAny("abc",["",""]))},t.isIncludeFunc=function(e,n){return-1!==t.indexOfFuncFirst(e,n)},t.test_isIncludeFunc=function(){i.check(!1,t.isIncludeFunc("abc def ghi abc",function(e,t,n){return!1})),i.check(!1,t.isIncludeFunc("abc def ghi abc",function(e,t,n){return i.orValue(e,"x","y","z")})),i.check(!0,t.isIncludeFunc("abc def ghi abc",function(e,t,n){return i.orValue(e,"d","g","i")}))},t.isIncludeAll=function(e,t){i.assert(r.isArray(t));for(var n=0;n<t.length;n+=1)e=a.replaceAll(e,t[n],"");return r.isEmpty(e)},t.test_isIncludeAll=function(){i.check(!0,t.isIncludeAll("abc",["a","b","c"])),i.check(!0,t.isIncludeAll("abc",["a","b","c","d"])),i.check(!1,t.isIncludeAll("abc",["a","b"]))},t.includeCount=function(e,n){for(var c=0,r=0;;){if(-1===(r=t.indexOfFirst(e,n,r)))break;r+=n.length,c++}return c},t.strCount=function(e,n){return t.includeCount(e,n)},t.test_includeCount=function(){i.check(3,t.includeCount("123123123","1"),"A"),i.check(3,t.includeCount("123123123","2"),"B"),i.check(3,t.includeCount("123123123","3"),"C"),i.check(3,t.includeCount("123123123","12"),"D"),i.check(2,t.includeCount("123123123","31"),"E"),i.check(6,t.includeCount("AAAAAA","A"),"F"),i.check(3,t.includeCount("AAAAAA","AA"),"G")},t.indexOfFirst=function(e,t,n){return i.assert(r.isStrings(e,t)),n=r.ifUndefinedValue(n,0),i.assert(r.isInt(n)),""===t?-1:e.indexOf(t,n)},t.test_indexOfFirst=function(){i.check(-1,t.indexOfFirst("abc","d")),i.check(0,t.indexOfFirst("abc","a")),i.check(1,t.indexOfFirst("abc","b")),i.check(2,t.indexOfFirst("abc","c")),i.check(-1,t.indexOfFirst("abc","")),i.check(0,t.indexOfFirst("abcabc","a")),i.check(1,t.indexOfFirst("abcabc","b")),i.check(2,t.indexOfFirst("abcabc","c")),i.check(0,t.indexOfFirst("abcabc","a",0)),i.check(3,t.indexOfFirst("abcabc","a",1)),i.check(1,t.indexOfFirst("abcabc","b",1)),i.check(4,t.indexOfFirst("abcabc","b",2)),i.check(2,t.indexOfFirst("abcabc","c",2)),i.check(5,t.indexOfFirst("abcabc","c",3))},t.indexOfLast=function(e,t,n){return i.assert(r.isStrings(e,t)),n=r.ifUndefinedValue(n,e.length-1),i.assert(r.isInt(n)),""===t?-1:e.lastIndexOf(t,n)},t.test_indexOfLast=function(){i.check(-1,t.indexOfLast("abc","d")),i.check(0,t.indexOfLast("abc","a")),i.check(1,t.indexOfLast("abc","b")),i.check(2,t.indexOfLast("abc","c")),i.check(-1,t.indexOfLast("abc","")),i.check(3,t.indexOfLast("abcabc","a")),i.check(4,t.indexOfLast("abcabc","b")),i.check(5,t.indexOfLast("abcabc","c")),i.check(3,t.indexOfLast("abcabc","a",3)),i.check(0,t.indexOfLast("abcabc","a",2)),i.check(4,t.indexOfLast("abcabc","b",4)),i.check(1,t.indexOfLast("abcabc","b",3)),i.check(5,t.indexOfLast("abcabc","c",5)),i.check(2,t.indexOfLast("abcabc","c",4))},t.indexOfAnyFirst=function(e,n,c){i.assert(r.isString(e)),i.assert(r.isArray(n)),i.assert(r.isStringArray(n)),c=r.ifUndefinedValue(c,0),i.assert(r.isInt(c));for(var s,o=1/0,a=-1,u=0,h=n.length;u<h;u+=1)-1!==(s=t.indexOfFirst(e,n[u],c))&&s<o&&(o=s,a=u);return{index:o===1/0?-1:o,indexAny:a}},t.test_indexOfAnyFirst=function(){i.checkResult("ER",null,t.indexOfAnyFirst,"abc","ab"),i.checkResult("ER",null,t.indexOfAnyFirst,"abc",[]),i.checkResult("ER",null,t.indexOfAnyFirst,"abc",[123]),i.check(-1,t.indexOfAnyFirst("abc",["d","e"]).index),i.check(0,t.indexOfAnyFirst("abc",["a","c"]).index),i.check(1,t.indexOfAnyFirst("abc",["b","c"]).index),i.check(2,t.indexOfAnyFirst("abc",["","c"]).index),i.check(-1,t.indexOfAnyFirst("abc",["",""]).index),i.check(0,t.indexOfAnyFirst("abcabc",["a","c"],0).index),i.check(2,t.indexOfAnyFirst("abcabc",["a","c"],1).index),i.check(2,t.indexOfAnyFirst("abcabc",["a","c"],2).index),i.check(3,t.indexOfAnyFirst("abcabc",["a","c"],3).index),i.check(1,t.indexOfAnyFirst("abcabc",["b"],1).index),i.check(4,t.indexOfAnyFirst("abcabc",["b"],2).index)},t.indexOfAnyLast=function(e,t,n){i.assert(r.isString(e)),i.assert(r.isArray(t)),i.assert(r.isStringArray(t)),n=r.ifUndefinedValue(n,e.length-1),i.assert(r.isInt(n));for(var c,s=-1,o=-1,u=0,h=t.length;u<h;u+=1)-1!==(c=a.indexOfLast(e,t[u],n))&&s<c&&(s=c,o=u);return{index:s,indexAny:o}},t.test_indexOfAnyLast=function(){i.checkResult("ER",null,t.indexOfAnyLast,"abc","ab"),i.checkResult("ER",null,t.indexOfAnyLast,"abc",[]),i.checkResult("ER",null,t.indexOfAnyLast,"abc",[123]),i.check(-1,t.indexOfAnyLast("abc",["d","e"]).index),i.check(2,t.indexOfAnyLast("abc",["a","c"]).index),i.check(1,t.indexOfAnyLast("abc",["b","a"]).index),i.check(2,t.indexOfAnyLast("abc",["","c"]).index),i.check(-1,t.indexOfAnyLast("abc",["",""]).index),i.check(5,t.indexOfAnyLast("abcabc",["a","c"]).index),i.check(5,t.indexOfAnyLast("abcabc",["a","c"],5).index),i.check(3,t.indexOfAnyLast("abcabc",["a","c"],4).index),i.check(3,t.indexOfAnyLast("abcabc",["a","c"],3).index),i.check(2,t.indexOfAnyLast("abcabc",["a","c"],2).index)},t.indexOfFuncFirst=function(e,t,n){return i.assert(r.isString(e)),s.indexOfFuncFirst(e.split(""),function(e,n,c){return t(e,n,c.join(""))},n)},t.test_indexOfFuncFirst=function(){i.check(-1,t.indexOfFuncFirst("abc def ghi abc",function(e,t,n){return!1})),i.check(4,t.indexOfFuncFirst("abc def ghi abc",function(e,t,n){return i.orValue(e,"d","g","i")})),i.check(8,t.indexOfFuncFirst("abc def ghi abc",function(e,t,n){return i.orValue(e,"d","g","i")},5)),i.check(10,t.indexOfFuncFirst("abc def ghi abc",function(e,t,n){return i.orValue(e,"d","g","i")},9)),i.check(6,t.indexOfFuncFirst("abcdefGhiAbc",function(e,t,n){return e===e.toUpperCase()}))},t.indexOfFuncLast=function(e,t,n){return i.assert(r.isString(e)),s.indexOfFuncLast(e.split(""),function(e,n,c){return t(e,n,c.join(""))},n)},t.test_indexOfFuncLast=function(){i.check(-1,t.indexOfFuncLast("abc def ghi abc",function(e,t,n){return!1})),i.check(10,t.indexOfFuncLast("abc def ghi abc",function(e,t,n){return i.orValue(e,"d","g","i")})),i.check(4,t.indexOfFuncLast("abc def ghi abc",function(e,t,n){return i.orValue(e,"d","g","i")},7)),i.check(9,t.indexOfFuncLast("abcdefGhiAbc",function(e,t,n){return e===e.toUpperCase()}))},t.substrIndex=function(e,t,n){if(i.assert(r.isString(e)),i.assert(r.isInt(t)),r.isNullOrUndefined(n)){if(e.length<=t)return"";n=e.length-1}return i.assert(r.isInt(n)),t<0&&(t=e.length+t),n<0&&(n=e.length+n),t<=n?e.substring(t,n+1):e.substring(n,t+1)},t.test_substrIndex=function(){i.check("45",t.substrIndex("012345",4)),i.check("2345",t.substrIndex("012345",-4)),i.check("1",t.substrIndex("012345",1,1)),i.check("1234",t.substrIndex("012345",1,4)),i.check("345",t.substrIndex("012345",3,10)),i.check("1234",t.substrIndex("012345",4,1)),i.check("345",t.substrIndex("012345",10,3)),i.check("5",t.substrIndex("012345",-1,-1)),i.check("2345",t.substrIndex("012345",-1,-4)),i.check("0123",t.substrIndex("012345",-3,-10)),i.check("2345",t.substrIndex("012345",-4,-1)),i.check("0123",t.substrIndex("012345",-10,-3)),i.check("0",t.substrIndex("012345",0,0)),i.check("5",t.substrIndex("012345",5,5)),i.check("45",t.substrIndex("012345",-1,4)),i.check("45",t.substrIndex("012345",4,-1)),i.check("12",t.substrIndex("012345",-4,1)),i.check("12",t.substrIndex("012345",1,-4)),i.check("0123",t.substrIndex("012345",-10,3)),i.check("0123",t.substrIndex("012345",3,-10)),i.check("345",t.substrIndex("012345",10,-3)),i.check("345",t.substrIndex("012345",-3,10)),i.check("",t.substrIndex(" ",1)),i.check("",t.substrIndex(" ",1,1))},t.substrLength=function(e,n,c){return 0===c?"":n<-1*e.length||e.length<n?"":(n<0&&(n=e.length+n),r.isNullOrUndefined(c)&&(c=e.length),i=c<0?n+c+1:n+c-1,t.substrIndex(e,n,i));var i},t.test_substrLength=function(){i.check("45",t.substrLength("012345",4)),i.check("2345",t.substrLength("012345",-4)),i.check("23",t.substrLength("012345",2,2)),i.check("234",t.substrLength("012345",2,3)),i.check("345",t.substrLength("012345",3,10)),i.check("4",t.substrLength("012345",4,1)),i.check("",t.substrLength("012345",10,3)),i.check("5",t.substrLength("012345",-1,-1)),i.check("45",t.substrLength("012345",-1,-2)),i.check("0123",t.substrLength("012345",-3,-10)),i.check("34",t.substrLength("012345",-3,2)),i.check("2",t.substrLength("012345",-4,-1)),i.check("2",t.substrLength("012345",-4,1)),i.check("12",t.substrLength("012345",-4,-2)),i.check("23",t.substrLength("012345",-4,2)),i.check("",t.substrLength("012345",-10,-3)),i.check("",t.substrLength("012345",0,0)),i.check("",t.substrLength("012345",3,0))},t.start=function(e,n){return i.assert(r.isString(e)),i.assert(r.isInt(n)),""===e?"":n<=0?"":t.substrLength(e,0,n)},t.test_start=function(){i.check("0123",t.start("012345",4)),i.check("",t.start("012345",0)),i.check("",t.start("012345",-3)),i.check("01",t.start("012345",2)),i.check("012",t.start("012345",3)),i.check("012345",t.start("012345",6)),i.check("012345",t.start("012345",10))},t.isStart=function(e,n){return i.assert(r.isStrings(e,n)),""!==n&&(""!==e&&(!(e.length<n.length)&&0===t.indexOfFirst(e,n)))},t.startsWith=function(e,n){return t.isStart(e,n)},t.hasPrefix=function(e,n){return t.isStart(e,n)},t.test_isStart=function(){i.check(!0,t.isStart("12345","1"),"A"),i.check(!0,t.isStart("12345","12"),"B"),i.check(!0,t.isStart("12345","123"),"C"),i.check(!1,t.isStart("12345","23"),"D"),i.check(!1,t.isStart("","34"),"E"),i.check(!1,t.isStart("12345",""),"F"),i.check(!1,t.isStart("123","1234"),"G")},t.includeStart=function(e,n){return t.isStart(e,n)?e:n+e},t.test_includeStart=function(){i.check("12345",t.includeStart("12345","1")),i.check("12345",t.includeStart("12345","12")),i.check("12345",t.includeStart("12345","123")),i.check("2312345",t.includeStart("12345","23"))},t.excludeStart=function(e,n){return t.isStart(e,n)?t.substrIndex(e,n.length):e},t.test_excludeStart=function(){i.check("2345",t.excludeStart("12345","1")),i.check("345",t.excludeStart("12345","12")),i.check("45",t.excludeStart("12345","123")),i.check("12345",t.excludeStart("12345","23")),i.check("",t.excludeStart(" "," "))},t.deleteStart=function(e,t){return i.assert(r.isString(e)),i.assert(r.isInt(t)&&0<=t),0===t?e:e.slice(t)},t.test_deleteStart=function(){i.check("2345",t.deleteStart("12345",1)),i.check("345",t.deleteStart("12345",2)),i.check("45",t.deleteStart("12345",3)),i.check("12345",t.deleteStart("12345",0)),i.check("",t.deleteStart("12345",5)),i.check("",t.deleteStart("12345",6))},t.fillStart=function(e,t,n){return n=r.ifUndefinedValue(n," "),i.assert(r.isStrings(e,n)),i.assert(1<=n.length),i.assert(r.isInt(t)&&0<=t),0===t?e:t<=e.length?e:a.end(a.repeat(n,t)+e,t)},t.test_fillStart=function(){i.check("123",t.fillStart("123",1)),i.check("123",t.fillStart("123",2)),i.check("123",t.fillStart("123",3)),i.check(" 123",t.fillStart("123",4)),i.check("  123",t.fillStart("123",5)),i.check("0123",t.fillStart("123",4,"0")),i.check("00123",t.fillStart("123",5,"0"))},t.end=function(e,n){return i.assert(r.isString(e)),i.assert(r.isInt(n)),""===e?"":n<=0?"":t.substrLength(e,Math.max(0,e.length-n))},t.test_end=function(){i.check("2345",t.end("012345",4)),i.check("",t.end("012345",0)),i.check("",t.end("012345",-3)),i.check("45",t.end("012345",2)),i.check("345",t.end("012345",3)),i.check("012345",t.end("012345",6)),i.check("012345",t.end("012345",10))},t.isEnd=function(e,n){return i.assert(r.isStrings(e,n)),""!==n&&(""!==e&&(!(e.length<n.length)&&t.indexOfLast(e,n)===e.length-n.length))},t.endsWith=function(e,n){return t.isEnd(e,n)},t.hasSuffix=function(e,n){return t.isEnd(e,n)},t.test_isEnd=function(){i.check(!0,t.isEnd("12345","5")),i.check(!0,t.isEnd("12345","45")),i.check(!0,t.isEnd("12345","345")),i.check(!1,t.isEnd("12345","34")),i.check(!1,t.isEnd("","34")),i.check(!1,t.isEnd("12345","")),i.check(!1,t.isEnd("123","1234"))},t.includeEnd=function(e,n){return t.isEnd(e,n)?e:e+n},t.test_includeEnd=function(){i.check("12345",t.includeEnd("12345","5")),i.check("12345",t.includeEnd("12345","45")),i.check("12345",t.includeEnd("12345","345")),i.check("1234534",t.includeEnd("12345","34"))},t.excludeEnd=function(e,n){return t.isEnd(e,n)?e.length===n.length?"":t.substrIndex(e,0,e.length-n.length-1):e},t.test_excludeEnd=function(){i.check("1234",t.excludeEnd("12345","5")),i.check("123",t.excludeEnd("12345","45")),i.check("12",t.excludeEnd("12345","345")),i.check("12345",t.excludeEnd("12345","34")),i.check("  ",t.excludeEnd("   "," ")),i.check("",t.excludeEnd(" "," "))},t.deleteEnd=function(e,t){return i.assert(r.isString(e)),i.assert(r.isInt(t)&&0<=t),0===t?e:e.slice(0,-1*t)},t.test_deleteEnd=function(){i.check("1234",t.deleteEnd("12345",1)),i.check("123",t.deleteEnd("12345",2)),i.check("12",t.deleteEnd("12345",3)),i.check("12345",t.deleteEnd("12345",0)),i.check("",t.deleteEnd("12345",5)),i.check("",t.deleteEnd("12345",6))},t.fillEnd=function(e,t,n){return n=r.ifUndefinedValue(n," "),i.assert(r.isStrings(e,n)),i.assert(1<=n.length),i.assert(r.isInt(t)&&0<=t),0===t?e:t<=e.length?e:a.start(e+a.repeat(n,t),t)},t.test_fillEnd=function(){i.check("123",t.fillEnd("123",1)),i.check("123",t.fillEnd("123",2)),i.check("123",t.fillEnd("123",3)),i.check("123 ",t.fillEnd("123",4)),i.check("123  ",t.fillEnd("123",5)),i.check("1230",t.fillEnd("123",4,"0")),i.check("12300",t.fillEnd("123",5,"0"))},t.bothEndsWith=function(e,n){return t.isStart(e,n)&&t.isEnd(e,n)},t.includeBothEnds=function(e,n){return t.includeStart(t.includeEnd(e,n),n)},t.excludeBothEnds=function(e,n){return t.excludeStart(t.excludeEnd(e,n),n)},t.startFirstDelim=function(e,n){var c=t.indexOfFirst(e,n);return-1===c?e:0===c?"":t.substrIndex(e,0,c-1)},t.test_startFirstDelim=function(){i.check("123",t.startFirstDelim("123,456",",")),i.check("123",t.startFirstDelim("123,456,789",",")),i.check("123",t.startFirstDelim("123ttt456","ttt")),i.check("123",t.startFirstDelim("123ttt456","tt")),i.check("123",t.startFirstDelim("123ttt456","t")),i.check("123ttt456",t.startFirstDelim("123ttt456",",")),i.check("123",t.startFirstDelim("123,",",")),i.check("",t.startFirstDelim(",123",",")),i.check("",t.startFirstDelim(",123,",","))},t.startLastDelim=function(e,n){var c=t.indexOfLast(e,n);return-1===c?e:0===c?"":t.substrIndex(e,0,c-1)},t.test_startLastDelim=function(){i.check("123",t.startLastDelim("123,456",",")),i.check("123,456",t.startLastDelim("123,456,789",",")),i.check("123",t.startLastDelim("123ttt456","ttt")),i.check("123t",t.startLastDelim("123ttt456","tt")),i.check("123tt",t.startLastDelim("123ttt456","t")),i.check("123ttt456",t.startLastDelim("123ttt456",",")),i.check("123",t.startLastDelim("123,",",")),i.check("",t.startLastDelim(",123",",")),i.check(",123",t.startLastDelim(",123,",","))},t.endFirstDelim=function(e,n){var c=t.indexOfFirst(e,n);return-1===c?e:c===e.length-1?"":t.substrIndex(e,c+n.length)},t.test_endFirstDelim=function(){i.check("456",t.endFirstDelim("123,456",",")),i.check("456,789",t.endFirstDelim("123,456,789",",")),i.check("456",t.endFirstDelim("123ttt456","ttt")),i.check("t456",t.endFirstDelim("123ttt456","tt")),i.check("tt456",t.endFirstDelim("123ttt456","t")),i.check("123ttt456",t.endFirstDelim("123ttt456",",")),i.check("",t.endFirstDelim("123,",",")),i.check("123",t.endFirstDelim(",123",",")),i.check("123,",t.endFirstDelim(",123,",","))},t.endLastDelim=function(e,n){var c=t.indexOfLast(e,n);return-1===c?e:c===e.length-n.length?"":t.substrIndex(e,c+n.length)},t.test_endLastDelim=function(){i.check("456",t.endLastDelim("123,456",",")),i.check("789",t.endLastDelim("123,456,789",",")),i.check("456",t.endLastDelim("123ttt456","ttt")),i.check("456",t.endLastDelim("123ttt456","tt")),i.check("456",t.endLastDelim("123ttt456","t")),i.check("123ttt456",t.endLastDelim("123ttt456",",")),i.check("",t.endLastDelim("123,",",")),i.check("123",t.endLastDelim(",123",",")),i.check("",t.endLastDelim(",123,",","));i.check("",t.endLastDelim("<123>123<789> <123>456<789> <123>789<789>","<789>"))},t.trimStart=function(e,n){var c=e;do{e=c;for(var r=0;r<=n.length-1;r++)c=t.excludeStart(c,n[r])}while(c!==e);return c},t.trimLeft=function(e,n){return t.trimStart(e,n)},t.test_trimStart=function(){i.check("123 ",t.trimStart("   123 ",[" "])),i.check("\t  123 ",t.trimStart("   \t  123 ",[" "])),i.check("123 ",t.trimStart("   \t  123 ",[" ","\t"])),i.check("\t 456  \t   ",t.trimStart("  \t 456  \t   ",[" "])),i.check("456  \t   ",t.trimStart("  \t 456  \t   ",[" ","\t"])),i.check("\t   \t   ",t.trimStart("  \t   \t   ",[" "])),i.check("",t.trimStart("  \t   \t   ",[" ","\t"]))},t.trimEnd=function(e,n){var c=e;do{e=c;for(var r=0;r<=n.length-1;r++)c=t.excludeEnd(c,n[r])}while(c!==e);return c},t.trimRight=function(e,n){return t.trimEnd(e,n)},t.test_trimEnd=function(){i.check(" 123",t.trimEnd(" 123   ",[" "])),i.check(" 456  \t",t.trimEnd(" 456  \t   ",[" "])),i.check(" 789",t.trimEnd(" 789  \t   ",[" ","\t"])),i.check("  \t   \t",t.trimEnd("  \t   \t   ",[" "])),i.check("",t.trimEnd("  \t   \t   ",[" ","\t"]))},t.trimBothEnds=function(e,n){return t.trimStart(t.trimEnd(e,n),n)},t.trim=function(e){return t.trimBothEnds(e,[" ","\t","\r","\n"])},t.trimSpaceOnly=function(e){return t.trimBothEnds(e,[" "])},t.trimCutStart=function(e,n){return t.start(e,e.length-t.trimStart(e,n).length)},t.trimCutEnd=function(e,n){return t.end(e,e.length-t.trimEnd(e,n).length)},t.deleteFirst=function(e,n){return-1===t.indexOfFirst(e,n)?e:t.startFirstDelim(e,n)+t.endFirstDelim(e,n)},t.deleteLast=function(e,n){return-1===t.indexOfLast(e,n)?e:t.startLastDelim(e,n)+t.endLastDelim(e,n)},t.test_deleteFirstLast=function(){i.check("abcdefghi",t.deleteFirst(t.deleteLast("abc<def>ghi",">"),"<")),i.check("abc><def><ghi",t.deleteFirst(t.deleteLast("a<bc><def><gh>i",">"),"<")),i.check("abcdefghi",t.deleteFirst(t.deleteLast("abc>def<ghi",">"),"<")),i.check("abc>def<ghi",t.deleteFirst(t.deleteLast("a<bc>def<gh>i",">"),"<"))},t.deleteFirstTagInner=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n)),i.assert(!r.isEmpty(c)),""===e)return"";var s=t.indexOfFirst(e,n);if(-1!==s){var o=t.indexOfFirst(e,c,s+n.length);return-1!==o?t.deleteIndex(e,s+n.length,o-1):e}return e},t.test_deleteFirstTagInner=function(){i.check("abc<>ghi",t.deleteFirstTagInner("abc<def>ghi","<",">")),i.check("abc<>ghi<jkl>mn",t.deleteFirstTagInner("abc<def>ghi<jkl>mn","<",">")),i.check("abc<def>ghi<j>mn",t.deleteFirstTagInner("abc<def>ghi<jkl>mn","<j",">")),i.check("Date: abc\r\nTo: \r\nFrom: ghi\r\n",t.deleteFirstTagInner("Date: abc\r\nTo: def\r\nFrom: ghi\r\n","To: ","\r\n"))},t.deleteFirstTagOuter=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n)),i.assert(!r.isEmpty(c)),""===e)return"";var s=e.indexOf(n);if(-1!==s){var o=t.indexOfFirst(e,c,s+n.length);return-1!==o?t.deleteIndex(e,s,o+c.length-1):e}return e},t.test_deleteFirstTagOuter=function(){i.check("abcghi",t.deleteFirstTagOuter("abc<def>ghi","<",">")),i.check("abcghi<jkl>mn",t.deleteFirstTagOuter("abc<def>ghi<jkl>mn","<",">")),i.check("abc<def>ghimn",t.deleteFirstTagOuter("abc<def>ghi<jkl>mn","<j",">")),i.check("Date: abc\r\nFrom: ghi\r\n",t.deleteFirstTagOuter("Date: abc\r\nTo: def\r\nFrom: ghi\r\n","To: ","\r\n"))},t.deleteLastTagInner=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n)),i.assert(!r.isEmpty(c)),""===e)return"";var s=t.indexOfLast(e,c);if(-1!==s){var o=t.indexOfLast(e,n,s-1);return-1!==o?t.deleteIndex(e,o+n.length,s-1):e}return e},t.test_deleteLastTagInner=function(){i.check("abc<>ghi",t.deleteLastTagInner("abc<def>ghi","<",">")),i.check("abc<def>ghi<>mn",t.deleteLastTagInner("abc<def>ghi<jkl>mn","<",">")),i.check("abc<f>ghi<jkl>mn",t.deleteLastTagInner("abc<def>ghi<jkl>mn","<","f>")),i.check("Date: abc\r\nTo: \r\n",t.deleteLastTagInner("Date: abc\r\nTo: def\r\nFrom: ghi\r\n","To: ","\r\n"))},t.deleteLastTagOuter=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n)),i.assert(!r.isEmpty(c)),""===e)return"";var s=t.indexOfLast(e,c);if(-1!==s){var o=t.indexOfLast(e,n,s-1);return-1!==o?t.deleteIndex(e,o,s+c.length-1):e}return e},t.test_deleteLastTagOuter=function(){i.check("abcghi",t.deleteLastTagOuter("abc<def>ghi","<",">")),i.check("abc<def>ghimn",t.deleteLastTagOuter("abc<def>ghi<jkl>mn","<",">")),i.check("abcghi<jkl>mn",t.deleteLastTagOuter("abc<def>ghi<jkl>mn","<","f>")),i.check("Date: abc\r\n",t.deleteLastTagOuter("Date: abc\r\nTo: def\r\nFrom: ghi\r\n","To: ","\r\n"))},t.deleteAllTag=function(e,n,c){var r=e;do{e=r,r=t.deleteFirstTagOuter(e,n,c)}while(e!==r);return r},t.test_deleteAllTag=function(){i.check("abcghi",t.deleteAllTag("abc<def>ghi","<",">")),i.check("abcghimn",t.deleteAllTag("abc<def>ghi<jkl>mn","<",">"))},t.tagInnerFirst=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n,c)),""===e)return"";var s=t.indexOfFirst(e,n);return-1!==s&&-1!==t.indexOfFirst(e,c,s+n.length)?t.startFirstDelim(t.endFirstDelim(e,n),c):""},t.test_tagInnerFirst=function(){i.check("456",t.tagInnerFirst("000<123>456<789>000","<123>","<789>"),"test01"),i.check("456",t.tagInnerFirst("<123>456<789>","<123>","<789>"),"test02"),i.check("",t.tagInnerFirst("000<123>456","<123>","<789>"),"test03"),i.check("",t.tagInnerFirst("456<789>000","<123>","<789>"),"test04"),i.check("",t.tagInnerFirst("456","<123>","<789>"),"test05"),i.check("",t.tagInnerFirst("000<123><789>000","<123>","<789>"),"test06"),i.check("",t.tagInnerFirst("000<123>456<789>000","<789>","<123>"),"test07");var e="<123>123<789> <123>456<789> <123>789<789>";i.check("123",t.tagInnerFirst(e,"<123>","<789>"),"test01"),i.check("",t.tagInnerFirst(e,"<123>","<456>"),"test02"),i.check("",t.tagInnerFirst(e,"<456>","<789>"),"test03"),i.check("",t.tagInnerFirst(e,"<456>","<123>"),"test04"),i.check("",t.tagInnerFirst(e,"<789>","<456>"),"test05"),i.check("",t.tagInnerFirst(e,"<321>","<456>"),"test06"),i.check("123<789> <123>45",t.tagInnerFirst(e,"<123>","6<789>"),"test07")},t.tagOuterFirst=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n,c)),""===e)return"";var s=t.indexOfFirst(e,n);return-1!==s&&-1!==t.indexOfFirst(e,c,s+n.length)?n+t.startFirstDelim(t.endFirstDelim(e,n),c)+c:""},t.test_tagOuterFirst=function(){i.check("<123>456<789>",t.tagOuterFirst("000<123>456<789>000","<123>","<789>"),"test01"),i.check("<123>456<789>",t.tagOuterFirst("<123>456<789>","<123>","<789>"),"test02"),i.check("",t.tagOuterFirst("000<123>456","<123>","<789>"),"test03"),i.check("",t.tagOuterFirst("456<789>000","<123>","<789>"),"test04"),i.check("",t.tagOuterFirst("456","<123>","<789>"),"test05"),i.check("<123><789>",t.tagOuterFirst("000<123><789>000","<123>","<789>"),"test06"),i.check("",t.tagOuterFirst("000<123>456<789>000","<789>","<123>"),"test07");var e="<123>123<789> <123>456<789> <123>789<789>";i.check("<123>123<789>",t.tagOuterFirst(e,"<123>","<789>"),"test01"),i.check("",t.tagOuterFirst(e,"<123>","<456>"),"test02"),i.check("",t.tagOuterFirst(e,"<456>","<789>"),"test03"),i.check("",t.tagOuterFirst(e,"<456>","<123>"),"test04"),i.check("",t.tagOuterFirst(e,"<789>","<456>"),"test05"),i.check("",t.tagOuterFirst(e,"<321>","<456>"),"test06"),i.check("<123>123<789> <123>456<789>",t.tagOuterFirst(e,"<123>","6<789>"),"test07")},t.tagInnerLast=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n,c)),""===e)return"";var s=t.indexOfLast(e,c);return-1!==s&&-1!==t.indexOfLast(e,n,s-1)?t.endLastDelim(t.startLastDelim(e,c),n):""},t.test_tagInnerLast=function(){i.check("456",t.tagInnerLast("000<123>456<789>000","<123>","<789>"),"test01"),i.check("456",t.tagInnerLast("<123>456<789>","<123>","<789>"),"test02"),i.check("",t.tagInnerLast("000<123>456","<123>","<789>"),"test03"),i.check("",t.tagInnerLast("456<789>000","<123>","<789>"),"test04"),i.check("",t.tagInnerLast("456","<123>","<789>"),"test05"),i.check("",t.tagInnerLast("000<123><789>000","<123>","<789>"),"test06"),i.check("",t.tagInnerLast("000<123>456<789>000","<789>","<123>"),"test07");var e="<123>ABC<789> <123>DEF<789> <123>GHI<789>";i.check("GHI",t.tagInnerLast(e,"<123>","<789>"),"test01"),i.check("",t.tagInnerLast(e,"<123>","<456>"),"test02"),i.check("",t.tagInnerLast(e,"<456>","<789>"),"test03"),i.check("",t.tagInnerLast(e,"<456>","<123>"),"test04"),i.check("",t.tagInnerLast(e,"<789>","<456>"),"test05"),i.check("",t.tagInnerLast(e,"<321>","<456>"),"test06"),i.check("DE",t.tagInnerLast(e,"<123>","F<789>"),"test07")},t.tagOuterLast=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n,c)),""===e)return"";var s=t.indexOfLast(e,c);return-1!==s&&-1!==t.indexOfLast(e,n,s-1)?n+t.endLastDelim(t.startLastDelim(e,c),n)+c:""},t.test_tagOuterLast=function(){i.check("<123>456<789>",t.tagOuterLast("000<123>456<789>000","<123>","<789>"),"test01"),i.check("<123>456<789>",t.tagOuterLast("<123>456<789>","<123>","<789>"),"test02"),i.check("",t.tagOuterLast("000<123>456","<123>","<789>"),"test03"),i.check("",t.tagOuterLast("456<789>000","<123>","<789>"),"test04"),i.check("",t.tagOuterLast("456","<123>","<789>"),"test05"),i.check("<123><789>",t.tagOuterLast("000<123><789>000","<123>","<789>"),"test06"),i.check("",t.tagOuterLast("000<123>456<789>000","<789>","<123>"),"test07");var e="<123>123<789> <123>456<789> <123>789<789>";i.check("<123>789<789>",t.tagOuterLast(e,"<123>","<789>"),"test01"),i.check("",t.tagOuterLast(e,"<123>","<456>"),"test02"),i.check("",t.tagOuterLast(e,"<456>","<789>"),"test03"),i.check("",t.tagOuterLast(e,"<456>","<123>"),"test04"),i.check("",t.tagOuterLast(e,"<789>","<456>"),"test05"),i.check("",t.tagOuterLast(e,"<321>","<456>"),"test06"),i.check("<123>456<789>",t.tagOuterLast(e,"<123>","6<789>"),"test06")},t.tagOuterAll=function(e,n,c){return t.tagOuterAllArray(e,n,c).join("")},t.test_tagOuterAll=function(){i.check("<def>",t.tagOuterAll("abc<def>ghi","<",">")),i.check("<def><jkl>",t.tagOuterAll("abc<def>ghi<jkl>mn","<",">"))},t.tagOuterAllArray=function(e,n,c){if(i.assert(!r.isNullOrUndefined(e)),i.assert(!r.isEmpty(n,c)),""===e)return"";for(var o,a,u=[];;){if(-1===(o=t.indexOfFirst(e,n)))return u;if(-1===(a=t.indexOfFirst(e,c,o+n.length)))return u;s.add(u,n+t.startFirstDelim(t.endFirstDelim(e,n),c)+c),e=t.substrIndex(e,a+c.length)}},t.repeat=function(e,t){for(var n="",c=0;c<t;c+=1)n+=e;return n},t.test_repeat=function(){i.check("AAAAA",t.repeat("A",5)),i.check("ABABAB",t.repeat("AB",3)),i.check("AB",t.repeat("AB",1)),i.check("",t.repeat("AB",0)),i.check("",t.repeat("",0)),i.check("",t.repeat("",5))},t.replaceAll=function(e,t,n){return i.assert(r.isStrings(e,t,n)),e.split(t).join(n)},t.test_replaceAll=function(){i.check("AAABBBAAA",t.replaceAll("123BBB123","123","AAA")),i.check("AAAABBBBBBBAAAA",t.replaceAll("AAAAAAABBBBBBBAAAAAAA","AA","A")),i.check("",t.replaceAll("","AA","A"))},t.replaceAllArray=function(e,t){i.assert(r.isString(e)),i.assert(r.isArray(t));for(var n=[],c=0,s=t.length;c<s;c+=1)i.assert(2===t[c].length),i.assert(r.isStrings(t[c][0],t[c][1])),n.push(t[c][0]);for(var o=0,u="",h=null;;){if(-1===(h=a.indexOfAnyFirst(e,n,o)).index){u+=a.substrIndex(e,o);break}o<h.index&&(u+=a.substrIndex(e,o,h.index-1),o=h.index),u+=t[h.indexAny][1],o+=n[h.indexAny].length}return u},t.test_replaceAllArray=function(){i.check("ba",t.replaceAllArray("ab",[["a","b"],["b","a"]])),i.check("bababa",t.replaceAllArray("ababab",[["ab","ba"]])),i.check("baabb",t.replaceAllArray("abbab",[["ab","ba"],["ba","ab"]])),i.check("cd",t.replaceAllArray("cd",[["a","b"],["b","a"]]))},t.reverse=function(e){return e.split("").reverse().join("")},t.test_reverse=function(){i.check("54321",t.reverse("12345")),i.check("321",t.reverse("123")),i.check("21",t.reverse("12")),i.check("2",t.reverse("2")),i.check("",t.reverse(""))},t.formatInsertFirst=function(e,t,n){if(i.assert(r.isString(e)),i.assert(r.isString(t)),i.assert(r.isInt(n)),r.isEmpty(e))return"";for(var c=(e=e.split(""))[0],s=1;s<=e.length-1;s+=1)c+=s%n==0?t+e[s]:e[s];return c},t.test_formatInsertFirst=function(){i.check("123 456 789 012 3",t.formatInsertFirst("1234567890123"," ",3)),i.check("123 456 789 123",t.formatInsertFirst("123456789123"," ",3)),i.check("123,4",t.formatInsertFirst("1234",",",3)),i.check("123",t.formatInsertFirst("123",",",3)),i.check("12",t.formatInsertFirst("12",",",3)),i.check("0",t.formatInsertFirst("0",",",3)),i.check("",t.formatInsertFirst("",",",3))},t.formatInsertLast=function(e,t,n){if(i.assert(r.isString(e)),i.assert(r.isString(t)),i.assert(r.isInt(n)),r.isEmpty(e))return"";for(var c=(e=e.split(""))[e.length-1],s=1;s<=e.length-1;s+=1)c+=s%n==0?t+e[e.length-1-s]:e[e.length-1-s];return a.reverse(c)},t.test_formatInsertLast=function(){i.check("1 234 567 890 123",t.formatInsertLast("1234567890123"," ",3)),i.check("123 456 789 123",t.formatInsertLast("123456789123"," ",3)),i.check("1,234",t.formatInsertLast("1234",",",3)),i.check("123",t.formatInsertLast("123",",",3)),i.check("12",t.formatInsertLast("12",",",3)),i.check("0",t.formatInsertLast("0",",",3)),i.check("",t.formatInsertLast("",",",3))},t.encloseDoubleQuoteIfInSpace=function(e){return a.isInclude(e," ")?a.includeBothEnds(e,'"'):e},t.checkFormat=function(e,t){switch(t){case"zenkaku":return!!e.match(/^[^\x01-\x7E\xA1-\xDF]+$/);case"hiragana":return!!e.match(/^[\u3041-\u3096]+$/);case"katakana":return!!e.match(/^[\u30a1-\u30f6]+$/);case"alphabet-number":return!!e.match(/^[0-9a-zA-Z]+$/);case"number":return!!e.match(/^[0-9]+$/);case"alphabet":return!!e.match(/^[a-zA-Z]+$/);case"upper-alphabet":return!!e.match(/^[A-Z]+$/);case"lower-alphabet":return!!e.match(/^[a-z]+$/);case"integer":return!!e.match(/^[+|-]?[0-9]+$/);case"float-only":return!!e.match(/^[-|+]?[0-9]*\.[0-9]+$/);case"float":return!!e.match(/^[-|+]?[0-9]*\.[0-9]+$|^[+|-]?[0-9]+$/);case"binary":return!!e.match(/^[01]+$/);case"octal":return!!e.match(/^[0-7]+$/);case"hex":return!!e.match(/^[0-9A-F]+$|^[0-9a-f]+$/);case"date":return!!e.match(/^\d{1,4}\/\d{1,2}\/\d{1,2}$/);case"date-minutes":return!!e.match(/^\d{1,4}\/\d{1,2}\/\d{1,2}\s\d{1,2}:\d{1,2}$/);case"date-seconds":return!!e.match(/^\d{1,4}\/\d{1,2}\/\d{1,2}\s\d{1,2}:\d{1,2}:\d{1,2}$/);case"date-milliseconds":return!!e.match(/^\d{1,4}\/\d{1,2}\/\d{1,2}\s\d{1,2}:\d{1,2}:\d{1,2}\.\d{1,3}$/);default:i.assert(!1)}},t.String=e.string.String||function(t){if(!(this instanceof e.string.String))return new e.string.String(t);this.value=t},function(){var t=e.string.String;t.prototype.isEmpty=function(){return e.string.isEmpty(this.value)},t.prototype.ifEmptyValue=function(t){return e.string.ifEmptyValue(this.value,t)},t.prototype.isInclude=function(t){return e.string.isInclude(this.value,t)},t.prototype.includeCount=function(t){return e.string.includeCount(this.value,t)},t.prototype.indexOfFirst=function(t,n){return e.string.indexOfFirst(this.value,t,n)},t.prototype.indexOfLast=function(t,n){return e.string.indexOfLast(this.value,t,n)},t.prototype.indexOfAnyFirst=function(t,n){return e.string.indexOfAnyFirst(this.value,t,n)},t.prototype.indexOfAnyLast=function(t,n){return e.string.indexOfAnyLast(this.value,t,n)},t.prototype.indexOfFuncFirst=function(t,n){return e.string.indexOfFuncFirst(this.value,t,n)},t.prototype.indexOfFuncLast=function(t,n){return e.string.indexOfFuncLast(this.value,t,n)},t.prototype.substrIndex=function(t,n){return e.string.substrIndex(this.value,t,n)},t.prototype.substrLength=function(t,n){return e.string.substrLength(this.value,t,n)},t.prototype.start=function(t){return e.string.start(this.value,t)},t.prototype.isStart=function(t){return e.string.isStart(this.value,t)},t.prototype.includeStart=function(t){return e.string.includeStart(this.value,t)},t.prototype.excludeStart=function(t){return e.string.excludeStart(this.value,t)},t.prototype.deleteStart=function(t){return e.string.deleteStart(this.value,t)},t.prototype.end=function(t){return e.string.end(this.value,t)},t.prototype.isEnd=function(t){return e.string.isEnd(this.value,t)},t.prototype.includeEnd=function(t){return e.string.includeEnd(this.value,t)},t.prototype.excludeEnd=function(t){return e.string.excludeEnd(this.value,t)},t.prototype.deleteEnd=function(t){return e.string.deleteEnd(this.value,t)},t.prototype.bothEndsWith=function(t){return e.string.bothEndsWith(this.value,t)},t.prototype.includeBothEnds=function(t){return e.string.includeBothEnds(this.value,t)},t.prototype.excludeBothEnds=function(t){return e.string.excludeBothEnds(this.value,t)},t.prototype.startFirstDelim=function(t){return e.string.startFirstDelim(this.value,t)},t.prototype.startLastDelim=function(t){return e.string.startLastDelim(this.value,t)},t.prototype.endFirstDelim=function(t){return e.string.endFirstDelim(this.value,t)},t.prototype.endLastDelim=function(t){return e.string.endLastDelim(this.value,t)},t.prototype.trimStart=function(t){return e.string.trimStart(this.value,t)},t.prototype.trimEnd=function(t){return e.string.trimEnd(this.value,t)},t.prototype.trimBothEnds=function(t){return e.string.trimBothEnds(this.value,t)},t.prototype.trim=function(){return e.string.trim(this.value)},t.prototype.deleteFirst=function(t){return e.string.deleteFirst(this.value,t)},t.prototype.deleteLast=function(t){return e.string.deleteLast(this.value,t)},t.prototype.deleteFirstTagInner=function(t,n){return e.string.deleteFirstTagInner(this.value,t,n)},t.prototype.deleteFirstTagOuter=function(t,n){return e.string.deleteFirstTagOuter(this.value,t,n)},t.prototype.deleteLastTagInner=function(t,n){return e.string.deleteLastTagInner(this.value,t,n)},t.prototype.deleteLastTagOuter=function(t,n){return e.string.deleteLastTagOuter(this.value,t,n)},t.prototype.deleteAllTag=function(t,n){return e.string.deleteAllTag(this.value,t,n)},t.prototype.tagInnerFirst=function(t,n){return e.string.tagInnerFirst(this.value,t,n)},t.prototype.tagOuterFirst=function(t,n){return e.string.tagOuterFirst(this.value,t,n)},t.prototype.tagInnerLast=function(t,n){return e.string.tagInnerLast(this.value,t,n)},t.prototype.tagOuterLast=function(t,n){return e.string.tagOuterLast(this.value,t,n)},t.prototype.tagOuterAll=function(t,n){return e.string.tagOuterAll(this.value,t,n)},t.prototype.replaceAll=function(t,n){return e.string.replaceAll(this.value,t,n)},t.prototype.test=function(){var t=new e.string.String("abc");i.check(!0,t.isInclude("a")),i.check(!0,t.isInclude("b")),i.check(!0,t.isInclude("c")),i.check(!1,t.isInclude("d"));var n=e.string.String("abc");i.check(!0,n.isInclude("a")),i.check(!0,n.isInclude("b")),i.check(!0,n.isInclude("c")),i.check(!1,n.isInclude("d"))}}(),t.StringEx=e.string.StringEx||function(n){if(!(this instanceof e.string.StringEx))return new e.string.StringEx(n);t.String.call(this,n)},e.inherits(t.StringEx,t.String),function(){var t=e.string.StringEx;t.prototype.isNotInclude=function(e){return!a.isInclude(this.value,e)},t.prototype.test=function(){var t=new e.string.StringEx("abc");i.check(!1,t.isNotInclude("a")),i.check(!1,t.isNotInclude("b")),i.check(!1,t.isNotInclude("c")),i.check(!0,t.isNotInclude("d")),i.check(!0,t.isInclude("a")),i.check(!0,t.isInclude("b")),i.check(!0,t.isInclude("c")),i.check(!1,t.isInclude("d"));var n=e.string.StringEx("abc");i.check(!1,n.isNotInclude("a")),i.check(!1,n.isNotInclude("b")),i.check(!1,n.isNotInclude("c")),i.check(!0,n.isNotInclude("d")),i.check(!0,n.isInclude("a")),i.check(!0,n.isInclude("b")),i.check(!0,n.isInclude("c")),i.check(!1,n.isInclude("d"));var c=new e.string.String("abc");i.check(!0,t instanceof e.string.String),i.check(!0,t instanceof e.string.StringEx),i.check(!1,t.constructor===e.string.String),i.check(!0,t.constructor===e.string.StringEx),i.check(!0,n instanceof e.string.String),i.check(!0,n instanceof e.string.StringEx),i.check(!1,n.constructor===e.string.String),i.check(!0,n.constructor===e.string.StringEx),i.check(!0,c instanceof e.string.String),i.check(!1,c instanceof e.string.StringEx),i.check(!0,c.constructor===e.string.String),i.check(!1,c.constructor===e.string.StringEx)}}()}(),n.Document=e.Document||function(t){if(!(this instanceof e.Document))return new e.Document(t);this._textArray=[],this.setText(t)},function(){var t=e.Document;t.prototype.getLine=function(e){return i.assert(r.isInt(e)),i.assert(o.inRange(e,0,this._textArray.length-1)),this._textArray[e]},t.prototype.setLine=function(e,t){i.assert(r.isInt(e)),i.assert(o.inRange(e,0,this._textArray.length)),o.inRange(e,0,this._textArray.length-1)?this._textArray[e]=t:this._textArray.push(t),this.setText(this.getText())},t.prototype.getText=function(){return this._textArray.join("")},t.prototype.setText=function(e){this._textArray=e.match(/[^\r\n]*(\r\n|\r|\n|$)/g)}}(),e.Document.prototype.test=function(){var t="0123\r456\n789\r\n0123\r\r456\n\n789\r\n\r\n0123\n\r\n\r456",n=e.Document(t);i.check("0123\r",n.getLine(0)),i.check("456\n",n.getLine(1)),i.check("789\r\n",n.getLine(2)),i.check("0123\r",n.getLine(3)),i.check("\r",n.getLine(4)),i.check("456\n",n.getLine(5)),i.check("\n",n.getLine(6)),i.check("789\r\n",n.getLine(7)),i.check("\r\n",n.getLine(8)),i.check("0123\n",n.getLine(9)),i.check("\r\n",n.getLine(10)),i.check("\r",n.getLine(11)),i.check("456",n.getLine(12)),i.check(t,n.getText()),n.setLine(0,"ABC\r\n"),n.setLine(1,"DEF\r"),i.check("ABC\r\n",n.getLine(0)),i.check("DEF\r",n.getLine(1)),i.check("789\r\n",n.getLine(2)),n.setLine(0,"0123\r"),n.setLine(1,"456\n"),n.setLine(13,"GHI\r\n"),i.check(t+"GHI\r\n",n.getText()),n.setLine(0,"A"),n.setLine(0,"B"),i.check("B789\r\n",n.getLine(0)),i.check("0123\r",n.getLine(1))},n.date=e.date||{},function(){var t=e.date;t.Date=function(e,n,c,i,s,o,a){if(!(this instanceof t.Date))return new t.Date(e,n,c,i,s,o,a);var u=new Date(0);return u.setMinutes(u.getTimezoneOffset()),r.isUndefined(e)?u:(u.setFullYear(e),r.isUndefined(n)?u:(u.setMonth(n-1),r.isUndefined(c)?u:(u.setDate(c),r.isUndefined(i)?u:(u.setHours(i),r.isUndefined(s)?u:(u.setMinutes(s),r.isUndefined(o)?u:(u.setSeconds(o),r.isUndefined(a)?u:(u.setMilliseconds(a),u)))))))},t.test_Date=function(){var e;e=t.Date(2017,9,30,23,51,0,0),i.check("2017/09/30 23:51:00",t.formatYYYYMMDD(e,"/")+" "+t.formatHHMMSS(e,":")),e=new t.Date(2017,9,30,23,51,0,0),i.check("2017/09/30 23:51:00",t.formatYYYYMMDD(e,"/")+" "+t.formatHHMMSS(e,":")),e=new t.Date(2017),i.check("2017/01/01 00:00:00",t.formatYYYYMMDD(e,"/")+" "+t.formatHHMMSS(e,":")),e=new t.Date(2017,9),i.check("2017/09/01 00:00:00",t.formatYYYYMMDD(e,"/")+" "+t.formatHHMMSS(e,":")),e=new t.Date(2017,9,30),i.check("2017/09/30 00:00:00",t.formatYYYYMMDD(e,"/")+" "+t.formatHHMMSS(e,":")),e=new t.Date(2017,9,30,5),i.check("2017/09/30 05:00:00",t.formatYYYYMMDD(e,"/")+" "+t.formatHHMMSS(e,":")),e=new t.Date(2017,9,30,5,20),i.check("2017/09/30 05:20:00",t.formatYYYYMMDD(e,"/")+" "+t.formatHHMMSS(e,":")),e=new t.Date(2017,9,30,5,20,35),i.check("2017/09/30 05:20:35",t.formatYYYYMMDD(e,"/")+" "+t.formatHHMMSS(e,":"))},t.isInvalidDate=function(e){return r.isDate(e)&&isNaN(e.getTime())},t.test_isInvalidDate=function(){i.check(!1,t.isInvalidDate(new Date(2017,1,1))),i.check(!0,t.isInvalidDate(new Date("abc")))},t.formatYYYYMMDD=function(e,t){return i.assert(r.isDate(e)),t=r.ifUndefinedValue(t,""),i.assert(r.isString(t)),e.getFullYear()+t+a.fillStart((e.getMonth()+1).toString(),2,"0")+t+a.fillStart(e.getDate().toString(),2,"0")},t.formatHHMMSS=function(e,t){return i.assert(r.isDate(e)),t=r.ifUndefinedValue(t,""),i.assert(r.isString(t)),a.fillStart(e.getHours().toString(),2,"0")+t+a.fillStart(e.getMinutes().toString(),2,"0")+t+a.fillStart(e.getSeconds().toString(),2,"0")},t.formatToString=function(n,c,u){i.assert(r.isDate(n)),i.assert(r.isString(c)),u=r.ifUndefinedValue(u,t.formatRuleDefault()),i.assert(r.isObject(u));var h=a.indexOfFirst(c,"'"),l=a.indexOfFirst(c,'"');i.assert(!(-1!==h&&-1!==l),"Error:stsLib.date.formatToString:Quote Exists [\"]and['].");var f=e.object.property.names(u);s.sortPattern(f,"length","descending");for(var d,k=[],g=0,m=f.length;g<m;g+=1)k.push([f[g],u[f[g]](n)]);if(-1===h&&-1===l)return a.replaceAllArray(c,k);-1===h?d='"':-1===l&&(d="'"),i.assert(o.isEven(a.includeCount(c,d)),"Error:stsLib.date.formatToString:Quote Count is not Even.");for(var y=c.split(d),p=0,b=y.length;p<b;p+=2)y[p]=a.replaceAllArray(y[p],k);return y.join("")},t.formatRuleDefault=function(){var e={yyyy:function(e){return a.fillStart(e.getFullYear().toString(),4,"0")},yyy:function(e){return e.getFullYear().toString()},yy:function(e){return a.end(a.fillStart(e.getFullYear().toString(),4,"0"),2)},y:function(e){return r.convertToInt(a.end(a.fillStart(e.getFullYear().toString(),4,"0"),2)).toString()},MM:function(e){return a.fillStart((e.getMonth()+1).toString(),2,"0")},M:function(e){return(e.getMonth()+1).toString()},dd:function(e){return a.fillStart(e.getDate().toString(),2,"0")},d:function(e){return e.getDate().toString()},hh:function(e){return a.fillStart((e.getHours()%12).toString(),2,"0")},h:function(e){return(e.getHours()%12).toString()},HH:function(e){return a.fillStart(e.getHours().toString(),2,"0")},H:function(e){return e.getHours().toString()},mm:function(e){return a.fillStart(e.getMinutes().toString(),2,"0")},m:function(e){return e.getMinutes().toString()},ss:function(e){return a.fillStart(e.getSeconds().toString(),2,"0")},s:function(e){return e.getSeconds().toString()},fff:function(e){return a.fillStart(e.getMilliseconds().toString(),3,"0")},ff:function(e){return a.start(a.fillStart(e.getMilliseconds().toString(),3,"0"),2)},f:function(e){return a.start(a.fillStart(e.getMilliseconds().toString(),3,"0"),1)},tt:function(e){return e.getHours()<12?"AM":"PM"},t:function(e){return e.getHours()<12?"A":"P"},ddd:function(e){return u.dayOfWeekEn(e)},dddd:function(e){return u.dayOfWeekEnglish(e)},MMM:function(e){return u.nameOfMonthEn3Char(e)},MMMM:function(e){return u.nameOfMonthEn4Char(e)},MMMMM:function(e){return u.nameOfMonthEnglish(e)}};return e},t.formatRuleDefaultJp=function(){var e=t.formatRuleDefault();e.DDD=function(e){return u.dayOfWeekJp(e)},e.DDDD=function(e){return u.dayOfWeekJapanese(e)},e.TTTT=function(e){return e.getHours()<12?"午前":"午後"};var n=function(n){var c={},r=t.Date(1989,1,8),i=t.Date(1926,12,25),s=t.Date(1912,7,30),o=t.Date(1868,9,8);return r<=n?(c.gengo="平成",c.year=e.yyyy(n)-r.getFullYear()+1):i<=n?(c.gengo="昭和",c.year=e.yyyy(n)-i.getFullYear()+1):s<=n?(c.gengo="大正",c.year=e.yyyy(n)-s.getFullYear()+1):o<=n?(c.gengo="明治",c.year=e.yyyy(n)-o.getFullYear()+1):(c.gengo="",c.year=e.yyyy(n)),c};return e.gggg=function(e){return n(e).gengo},e.gg=function(e){return a.start(n(e).gengo,1)},e.Y=function(e){return n(e).year.toString()},e.YY=function(t){return a.end(a.fillStart(e.Y(t),2,"0"),2)},e},t.test_formatToString=function(){var e,n=u.Date(2007,1,6,21,5,3,123);e=u.formatToString(n,"yyyy/MM/dd ddd HH:mm:ss.fff"),i.check("2007/01/06 Sat 21:05:03.123",e),e=u.formatToString(n,"yy/M/d dddd tt h:m:s.ff"),i.check("07/1/6 Saturday PM 9:5:3.12",e),e=u.formatToString(n,"y-MMMMM-d h:m:s.f"),i.check("7-January-6 9:5:3.1",e),e=u.formatToString(n,'y-MMM-d "yyyy" h:m:s.f'),i.check("7-Jan-6 yyyy 9:5:3.1",e),e=u.formatToString(n,'y-MMMM-d "yyyy" h:m:"s"s.f'),i.check("7-Jan.-6 yyyy 9:5:s3.1",e);var c=u.Date(101,1,1,13,1,1,1);e=u.formatToString(c,"yyyy-MM-dd HH:mm:ss.fff tt"),i.check("0101-01-01 13:01:01.001 PM",e),e=u.formatToString(c,"yyy-M-d H:m:s.ff t"),i.check("101-1-1 13:1:1.00 P",e),e=u.formatToString(c,"yy-M-d hh:m:s.f"),i.check("01-1-1 01:1:1.0",e),e=u.formatToString(c,"y-M-d h:m:s"),i.check("1-1-1 1:1:1",e);var r=t.formatRuleDefaultJp();e=u.formatToString(n,'yyyy"-"MM-dd DDD TTTT',r),i.check("2007-01-06 土 午後",e),e=u.formatToString(n,"yy-M-d DDDD gg",r),i.check("07-1-6 土曜日 平",e),c=u.Date(1995,1,6,21,5,3,123),e=u.formatToString(c,"ggY ggggYY yyyy",r),i.check("平7 平成07 1995",e);var s=u.Date(1989,1,8);i.check("平成1年1月8日",u.formatToString(s,"ggggY年M月d日",r));var o=u.Date(1989,1,7);i.check("昭和64年1月7日",u.formatToString(o,"ggggY年M月d日",r));var a=u.Date(1926,12,25);i.check("昭01/12/25",u.formatToString(a,"ggYY/MM/dd",r));var h=u.Date(1926,12,24);i.check("大15/12/24",u.formatToString(h,"ggYY/MM/dd",r));var l=u.Date(1912,7,30);i.check("大正01/07/30",u.formatToString(l,"ggggYY/MM/dd",r));var f=u.Date(1912,7,29);i.check("明治45/07/29",u.formatToString(f,"ggggYY/MM/dd",r));var d=u.Date(1868,9,8);i.check("明治1/9/8",u.formatToString(d,"ggggY/M/d",r)),i.check("明治01/09/08",u.formatToString(d,"ggggYY/MM/dd",r));var k=u.Date(1868,9,7);i.check("1868/9/7",u.formatToString(k,"ggggY/M/d",r)),i.check("68/09/07",u.formatToString(k,"ggggYY/MM/dd",r))},t.nameOfMonth=function(e,t){return i.assert(r.isDate(e)),i.assert(r.isArray(t)),i.assert(12===t.length),t[e.getMonth()]},t.nameOfMonthEn3Char=function(e){return t.nameOfMonth(e,t.monthNamesEn3Char())},t.nameOfMonthEn4Char=function(e){return t.nameOfMonth(e,t.monthNamesEn4Char())},t.nameOfMonthEnglish=function(e){return t.nameOfMonth(e,t.monthNamesEnglish())},t.monthNamesEn3Char=function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},t.monthNamesEn4Char=function(){return["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sep.","Oct.","Nov.","Dec."]},t.monthNamesEnglish=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},t.dayOfWeek=function(e,t){return i.assert(r.isDate(e)),r.isNullOrUndefined(t)?e.getDay():(i.assert(r.isArray(t)),i.assert(7===t.length),t[e.getDay()])},t.dayOfWeekEn=function(e){return t.dayOfWeek(e,t.dayOfWeekNamesEn())},t.dayOfWeekEnglish=function(e){return t.dayOfWeek(e,t.dayOfWeekNamesEnglish())},t.dayOfWeekJp=function(e){return t.dayOfWeek(e,t.dayOfWeekNamesJp())},t.dayOfWeekJapanese=function(e){return t.dayOfWeek(e,t.dayOfWeekNamesJapanese())},t.dayOfWeekNamesEn=function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},t.dayOfWeekNamesEnglish=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},t.dayOfWeekNamesJp=function(){return["日","月","火","水","木","金","土"]},t.dayOfWeekNamesJapanese=function(){for(var e=t.dayOfWeekNamesJp(),n=0,c=e.length;n<c;n+=1)e[n]=e[n]+"曜日";return e},t.test_dayOfWeek=function(){i.check("日曜日",t.dayOfWeekJapanese(t.Date(2017,10,1))),i.check("Mon",t.dayOfWeekEn(t.Date(2017,10,2)))},t.equalYear=function(e,t){return i.assert(r.isDates(e,t)),e.getFullYear()===t.getFullYear()},t.equalMonth=function(e,n){return!(!t.equalYear(e,n)||e.getMonth()!==n.getMonth())},t.equalDate=function(e,n){return!(!t.equalMonth(e,n)||e.getDate()!==n.getDate())},t.equalDateHours=function(e,n){return!(!t.equalDate(e,n)||e.getHours()!==n.getHours())},t.equalDateMinutes=function(e,n){return!(!t.equalDateHours(e,n)||e.getMinutes()!==n.getMinutes())},t.equalDateSeconds=function(e,n){return!(!t.equalDateMinutes(e,n)||e.getSeconds()!==n.getSeconds())},t.equalDateMilliseconds=function(e,t){return e.getTime()===t.getTime()},t.test_equalDate=function(){var e=new t.Date(2017,9,30,5,20,35),n=new t.Date(2017,9,30,5,20,35);i.check(!0,t.equalDateSeconds(e,n));var c=new t.Date(2017,9,30,5,20,30),r=new t.Date(2017,9,30,5,20,35);i.check(!1,t.equalDateSeconds(c,r)),i.check(!0,t.equalDateMinutes(c,r))},t.SECOND_MILLISECONDS=1e3,t.MINUTE_MILLISECONDS=60*t.SECOND_MILLISECONDS,t.HOUR_MILLISECONDS=60*t.MINUTE_MILLISECONDS,t.DAY_MILLISECONDS=24*t.HOUR_MILLISECONDS,t.WEEK_MILLISECONDS=7*t.DAY_MILLISECONDS,t.YEAR_MILLISECONDS=365*t.DAY_MILLISECONDS,t.millisecondsInterval=function(e,t){return i.assert(r.isDates(e,t)),t.getTime()-e.getTime()},t.secondsInterval=function(e,n){return t.millisecondsInterval(e,n)/t.SECOND_MILLISECONDS},t.minutesInterval=function(e,n){return t.millisecondsInterval(e,n)/t.MINUTE_MILLISECONDS},t.hoursInterval=function(e,n){return t.millisecondsInterval(e,n)/t.HOUR_MILLISECONDS},t.daysInterval=function(e,n){return t.millisecondsInterval(e,n)/t.DAY_MILLISECONDS},t.weeksInterval=function(e,n){return t.millisecondsInterval(e,n)/t.WEEK_MILLISECONDS},t.yearsInterval=function(e,n){return t.millisecondsInterval(e,n)/t.YEAR_MILLISECONDS},t.getAgeYearMonthDay=function(e,n){var c=n.getFullYear(),r=n.getMonth()+1,i=n.getDate(),s=e.getFullYear(),o=e.getMonth()+1,a=e.getDate(),u=s-c;o<r?u-=1:o===r&&a<i&&(u-=1);var h=12*s+o-(12*c+r);a<i&&(h-=1);var l=e.getDate()-n.getDate();return l<0&&(l=t.getMonthEndDay(e.getYear(),e.getMonth())-n.getDate()+e.getDate()),{year:u,month:h-12*u,day:l}},t.getAgeMonthDay=function(e,n){var c=n.getFullYear(),r=n.getMonth()+1,i=n.getDate(),s=12*e.getFullYear()+(e.getMonth()+1)-(12*c+r);e.getDate()<i&&(s-=1);var o=e.getDate()-n.getDate();return o<0&&(o=t.getMonthEndDay(e.getYear(),e.getMonth())-n.getDate()+e.getDate()),{month:s,day:o}},t.getAgeDay=function(e,t){var n=t.getFullYear(),c=t.getMonth()+1,r=t.getDate(),i=e.getFullYear(),s=e.getMonth()+1,o=e.getDate(),a=new Date(n,c-1,r),u=new Date(i,s-1,o)-a;return{day:u/=864e5}},t.getMonthEndDay=function(e,t){return new Date(e,t,0).getDate()}}(),n.path=e.path||{},function(){var t=e.path;t.getFileName=function(e){return e.substring(e.lastIndexOf("/")+1,e.length)},t.test_getFileName=function(){i.check("a.txt",t.getFileName("file://test/test/a.txt"))},t.getExtensionIncludePeriod=function(e){var t="";return t=(t=a.endLastDelim(e,"."))==e?"":a.includeStart(t,".")}}(),n.object=e.object||{},e.object.property=e.object.property||{},function(){var t=e.object.property;t.count=function(e){i.assert(r.isObject(e));var t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=1);return t},t.test_count=function(){i.check(3,t.count({a:0,b:1,c:2}))},t.names=function(e){i.assert(r.isObject(e));var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},t.test_names=function(){i.check("a,b,c",t.names({a:0,b:1,c:2}).join())},t.values=function(e){i.assert(r.isObject(e));var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},t.test_values=function(){i.check("0,1,2",t.values({a:0,b:1,c:2}).join())},t.nameExists=function(e,n){i.assert(r.isString(n));var c=t.names(e);return s.isInclude(c,n)},t.test_nameExists=function(){i.check(!0,t.nameExists({a:0,b:1,c:2},"a")),i.check(!1,t.nameExists({a:0,b:1,c:2},"d")),i.check(!0,"a"in{a:0,b:1,c:2}),i.check(!1,"d"in{a:0,b:1,c:2})},t.valueExists=function(e,n){var c=t.values(e);return s.isInclude(c,n)},t.test_valueExists=function(){i.check(!0,t.valueExists({a:0,b:1,c:2},0)),i.check(!1,t.valueExists({a:0,b:1,c:2},3))},t.getNameFromValue=function(e,n){var c=t.values(e),r=s.indexOfFirst(c,n);return-1===r?"":t.names(e)[r]},t.test_getNameFromValue=function(){i.check("a",t.getNameFromValue({a:0,b:1,c:2},0)),i.check("",t.getNameFromValue({a:0,b:1,c:2},3))}}(),n.enumType=e.enumType||{},function(){var t=e.enumType;t.EnumNumber=function(t){if(!(this instanceof e.enumType.EnumNumber))return new e.enumType.EnumNumber(s.fromArgs(arguments));for(var n=0,c=(t=s.dimension.expandMultiDimension(s.fromArgs(arguments))).length;n<c;n+=1)this[t[n]]=n},t.test_Enum=function(){var n;n=t.EnumNumber("a"),i.check(1,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,0)),i.check("",e.object.property.getNameFromValue(n,1)),n=new t.EnumNumber("a"),i.check(1,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,0)),i.check("",e.object.property.getNameFromValue(n,1)),n=t.EnumNumber(["a"]),i.check(1,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,0)),i.check("",e.object.property.getNameFromValue(n,1)),n=new t.EnumNumber(["a"]),i.check(1,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,0)),i.check("",e.object.property.getNameFromValue(n,1)),n=t.EnumNumber(["a","b"]),i.check(2,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,0)),i.check("b",e.object.property.getNameFromValue(n,1)),n=new t.EnumNumber(["a","b"]),i.check(2,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,0)),i.check("b",e.object.property.getNameFromValue(n,1)),n=t.EnumNumber("a","b"),i.check(2,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,0)),i.check("b",e.object.property.getNameFromValue(n,1)),n=new t.EnumNumber("a","b"),i.check(2,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,0)),i.check("b",e.object.property.getNameFromValue(n,1))},t.EnumNameValue=function(t){if(!(this instanceof e.enumType.EnumNameValue))return new e.enumType.EnumNameValue(s.fromArgs(arguments));for(var n=0,c=(t=s.dimension.expandMultiDimension(s.fromArgs(arguments))).length;n<c;n+=1)this[t[n]]=t[n]},t.test_EnumNameValue=function(){var n;n=t.EnumNameValue("a"),i.check(1,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,"a")),i.check("",e.object.property.getNameFromValue(n,"b")),n=new t.EnumNameValue("a"),i.check(1,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,"a")),i.check("",e.object.property.getNameFromValue(n,"b")),n=t.EnumNameValue(["a"]),i.check(1,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,"a")),i.check("",e.object.property.getNameFromValue(n,"b")),n=new t.EnumNameValue(["a"]),i.check(1,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,"a")),i.check("",e.object.property.getNameFromValue(n,"b")),n=t.EnumNameValue(["a","b"]),i.check(2,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,"a")),i.check("b",e.object.property.getNameFromValue(n,"b")),n=new t.EnumNameValue(["a","b"]),i.check(2,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,"a")),i.check("b",e.object.property.getNameFromValue(n,"b")),n=t.EnumNameValue("a","b"),i.check(2,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,"a")),i.check("b",e.object.property.getNameFromValue(n,"b")),n=new t.EnumNameValue("a","b"),i.check(2,e.object.property.count(n)),i.check("a",e.object.property.getNameFromValue(n,"a")),i.check("b",e.object.property.getNameFromValue(n,"b"))}}(),n.point=e.point||{},function(){var t=e.point;t.Point=function(t,n){if(!(this instanceof e.point.Point))return new e.point.Point(t,n);i.assert(r.isNumbers(t,n)),this.x=t,this.y=n},t.Point.prototype.clone=function(){return t.Point(this.x,this.y)},t.test_point_clone=function(){var e=t.Point(1,2);e.x=3;var n=e.clone();e.y=3,i.check(3,e.x),i.check(3,e.y),i.check(3,n.x),i.check(2,n.y)},t.Point.prototype.move=function(e,t){return i.assert(r.isInts(e,t)),this.x+=e,this.y+=t,this},t.test_point_move=function(){var e=t.Point(5,5);e.move(2,3),i.check(7,e.x),i.check(8,e.y)},t.Point.prototype.inRect=function(e){return i.assert(r.isRect(e)),e.normalize(),o.inRange(this.x,e.left,e.right)&&o.inRange(this.y,e.top,e.bottom)},t.test_point_inRect=function(){var e=f.Rect(h.Point(2,2),h.Point(4,6)),n=t.Point(5,5);i.check(!1,n.inRect(e)),n.move(-2,-2),i.check(!0,n.inRect(e))},t.Point.prototype.distance=function(e){return Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2))}}(),n.vector=e.vector||{},function(){var t=e.vector;t.Vector=function(t){if(!(this instanceof e.vector.Vector))return new e.vector.Vector(arguments[0],arguments[1]);i.assert(r.isPoint(arguments[0])),r.isNullOrUndefined(arguments[1])?(this.from=h.Point(0,0),this.to=h.Point(t.x,t.y)):(i.assert(r.isPoint(arguments[1])),this.from=h.Point(t.x,t.y),this.to=h.Point(arguments[1].x,arguments[1].y))},t.Vector.prototype.clone=function(){return t.Vector(this.from,this.to)},t.test_vector_clone=function(){var e=t.Vector(h.Point(1,1),h.Point(4,5)),n=e.clone();i.check(!0,r.isVector(n)),e.setFrom(h.Point(0,0)),i.check(3,e.to.x),i.check(4,e.to.y),i.check(4,n.to.x),i.check(5,n.to.y)},t.Vector.prototype.dx=function(){return this.to.x-this.from.x},t.Vector.prototype.dy=function(){return this.to.y-this.from.y},t.Vector.prototype.length=function(){return this.from.distance(this.to)},e.vector.test_vector_length=function(){var e=l.Vector(h.Point(0,0),h.Point(1,1));i.check(Math.pow(2,.5),e.length());var t=l.Vector(h.Point(0,0),h.Point(3,4));i.check(5,t.length()),e=l.Vector(h.Point(1,1)),i.check(Math.pow(2,.5),e.length()),t=l.Vector(h.Point(3,4)),i.check(5,t.length())},t.Vector.prototype.setFrom=function(e){i.assert(r.isPoint(e));var t=this.dx(),n=this.dy();return this.from.x=e.x,this.from.y=e.y,this.to.x=this.from.x+t,this.to.y=this.from.y+n,this},t.test_vector_setFrom=function(){var e=l.Vector(h.Point(1,1),h.Point(3,4));e.setFrom(h.Point(0,0)),i.check(0,e.from.x),i.check(0,e.from.y),i.check(2,e.to.x),i.check(3,e.to.y)},t.Vector.prototype.add=function(e){i.assert(r.isVector(e));var t=e.to.x-e.from.x,n=e.to.y-e.from.y;return this.to.x=this.to.x+t,this.to.y=this.to.y+n,this},t.test_vector_add=function(){var e=l.Vector(h.Point(1,1),h.Point(3,4)),t=l.Vector(h.Point(2,2),h.Point(5,6));e.add(t),i.check(1,e.from.x),i.check(1,e.from.y),i.check(6,e.to.x),i.check(8,e.to.y),i.check(2,t.from.x),i.check(2,t.from.y),i.check(5,t.to.x),i.check(6,t.to.y)},t.Vector.prototype.normalize=function(e){e=r.ifUndefinedValue(e,1);var t=this.length();return 0===t?this:(this.to.x=this.from.x+this.dx()*e/t,this.to.y=this.from.y+this.dy()*e/t,this)},t.test_vector_normalize=function(){var e=l.Vector(h.Point(0,0),h.Point(3,4));e.normalize(10),i.check(0,e.from.x),i.check(0,e.from.y),i.check(6,e.to.x),i.check(8,e.to.y)},t.Vector.prototype.inverse=function(){var e=this.from.x,t=this.from.y;return this.from.x=this.to.x,this.from.y=this.to.y,this.to.x=e,this.to.y=t,this},t.test_vector_inverse=function(){var e=l.Vector(h.Point(0,0),h.Point(3,4));e.inverse(),i.check(3,e.from.x),i.check(4,e.from.y),i.check(0,e.to.x),i.check(0,e.to.y)},t.Vector.prototype.normalRight=function(){var e=this.dx(),t=this.dy();return this.to.x=this.from.x+t,this.to.y=this.from.y-e,this},t.test_vector_normalRight=function(){var e=l.Vector(h.Point(0,0),h.Point(3,4));e.normalRight(),i.check(0,e.from.x),i.check(0,e.from.y),i.check(4,e.to.x),i.check(-3,e.to.y)},t.Vector.prototype.normalLeft=function(){var e=this.dx(),t=this.dy();return this.to.x=this.from.x-t,this.to.y=this.from.y+e,this},t.test_vector_normalLeft=function(){var e=l.Vector(h.Point(0,0),h.Point(3,4));e.normalLeft(),i.check(0,e.from.x),i.check(0,e.from.y),i.check(-4,e.to.x),i.check(3,e.to.y)},t.Vector.prototype.rotate=function(t){var n=e.angle,c=this.dx(),r=this.dy();return this.to.x=this.from.x+n.cos(t)*c+n.sin(t)*r,this.to.y=this.from.y+-n.sin(t)*c+n.cos(t)*r,this},t.Vector.prototype.angle=function(n){var c=e.angle,r=t.Vector(h.Point(this.dx(),this.dy())).normalize(),i=t.Vector(h.Point(n.dx(),n.dy())).normalize();return c.acos(r.to.x*i.to.x+r.to.y*i.to.y)},t.Vector.prototype.moveParallel=function(t){if(r.isNullOrUndefined(t)||0===t)return this;var n=e.point.Point(this.to.x,this.to.y);this.normalRight().normalize(t);var c=e.point.Point(this.to.x,this.to.y);this.setFrom(n);var i=e.point.Point(this.to.x,this.to.y);return this.from=c,this.to=i,this},t.test_vector_moveParallels=function(){var e=l.Vector(h.Point(1,1),h.Point(4,5));e.moveParallel(5),i.check(5,e.from.x),i.check(-2,e.from.y),i.check(8,e.to.x),i.check(2,e.to.y)},t.Vector.prototype.parameterForVector=function(e){return((e.from.y-this.from.y)*(e.from.x-e.to.x)-(e.from.x-this.from.x)*(e.from.y-e.to.y))/((this.from.x-this.to.x)*(e.from.y-e.to.y)-(this.from.y-this.to.y)*(e.from.x-e.to.x))},t.Vector.prototype.parameterForPoint=function(t){var n=e.vector.Vector(h.Point(this.from.x+this.dy(),this.from.y-this.dx()));return n.setFrom(t),this.parameterForVector(n)},t.Vector.prototype.pointFromParameter=function(e){return h.Point(e*this.dx()+this.from.x,e*this.dy()+this.from.y)},t.Vector.prototype.intersectionPoint=function(e){var t=this.parameterForVector(e);return this.pointFromParameter(t)},t.Vector.prototype.lineDistance=function(e){var t=this.parameterForPoint(e);return this.pointFromParameter(t).distance(e)},t.Vector.prototype.segmentDistance=function(e){var t=this.parameterForPoint(e);return t<=0?this.from.distance(e):1<=t?this.to.distance(e):this.pointFromParameter(t).distance(e)},t.Vector.prototype.arrowHeadVectors=function(e,n){var c=this.clone();c.inverse().normalize(e).inverse();var r=c.clone();r.normalRight(),r.normalize(e*n);var i=t.Vector(c.to,r.to),s=c.clone();return s.normalLeft(),s.normalize(e*n),{arrowHead:c,arrowEdgeRight:i,arrowNormalRight:r,arrowEdgeLeft:t.Vector(c.to,s.to),arrowNormalLeft:s}}}(),n.rect=e.rect||{},function(){var t=e.rect;t.Rect=function(t,n){if(!(this instanceof e.rect.Rect))return new e.rect.Rect(t,n);i.assert(r.isPoints(t,n)),this.top=Math.min(t.y,n.y),this.left=Math.min(t.x,n.x),this.bottom=Math.max(t.y,n.y),this.right=Math.max(t.x,n.x)},t.test_Rect=function(){var e=f.Rect(h.Point(2,2),h.Point(4,6));i.check(2,e.top),i.check(2,e.left),i.check(6,e.bottom),i.check(4,e.right)},t.Rect.prototype.clone=function(){return t.Rect(h.Point(this.left,this.top),h.Point(this.right,this.bottom))},t.test_rect_clone=function(){var e=t.Rect(h.Point(1,1),h.Point(4,5)),n=e.clone();i.check(!0,r.isRect(n)),n.top=0,n.left=0,i.check(1,e.top),i.check(1,e.left),i.check(0,n.top),i.check(0,n.left),i.check(5,n.bottom),i.check(4,n.right)},t.Rect.prototype.normalize=function(){var e;return this.bottom<this.top&&(e=this.top,this.top=this.bottom,this.bottom=e),this.right<this.left&&(e=this.left,this.left=this.right,this.right=e),this},t.Rect.prototype.width=function(){return Math.abs(this.right-this.left)},t.Rect.prototype.setWidth=function(e){return i.assert(r.isNumber(e)),this.normalize(),0<=e?this.right=this.left+e:(this.right=this.left,this.left=this.right+e),i.assert(this.left<=this.right),this},t.Rect.prototype.height=function(){return Math.abs(this.bottom-this.top)},t.Rect.prototype.setHeight=function(e){return i.assert(r.isNumber(e)),this.normalize(),0<=e?this.bottom=this.top+e:(this.bottom=this.top,this.top=this.bottom+e),i.assert(this.top<=this.bottom),this},t.test_rect_width_height=function(){var e=f.Rect(h.Point(2,2),h.Point(4,6));i.check(2,e.width()),i.check(4,e.height()),e.setWidth(10),e.setHeight(10),i.check(10,e.width()),i.check(10,e.height()),e.setWidth(-5),e.setHeight(-5),i.check(5,e.width()),i.check(5,e.height()),i.check(-3,e.top),i.check(-3,e.left),i.check(2,e.bottom),i.check(2,e.right)},t.Rect.prototype.center=function(){return h.Point((this.left+this.right)/2,(this.top+this.bottom)/2)},t.test_rect_center=function(){var e=f.Rect(h.Point(2,2),h.Point(4,6)).center();i.check(3,e.x),i.check(4,e.y)},t.Rect.prototype.move=function(e,t){return i.assert(r.isNumbers(e,t)),this.top+=t,this.left+=e,this.bottom+=t,this.right+=e,this.normalize()},t.test_rect_move=function(){var e=f.Rect(h.Point(2,2),h.Point(4,6));e.move(10,10),i.check(12,e.top),i.check(12,e.left),i.check(16,e.bottom),i.check(14,e.right)},t.Rect.prototype.setTopLeft=function(e,t){return 1===arguments.length?(i.assert(r.isPoint(e)),t=e.x,e=e.y):i.assert(r.isNumbers(e,t)),this.normalize().move(t-this.left,e-this.top)},t.test_rect_setTopLeft=function(){var e=f.Rect(h.Point(2,2),h.Point(4,6));e.setTopLeft(10,10),i.check(10,e.top),i.check(10,e.left),i.check(14,e.bottom),i.check(12,e.right),(e=f.Rect(h.Point(2,2),h.Point(4,6))).setTopLeft(h.Point(0,0)),i.check(0,e.top),i.check(0,e.left),i.check(4,e.bottom),i.check(2,e.right)},t.Rect.prototype.inRect=function(e){return i.assert(r.isRect(e)),e.normalize(),o.inRange(this.left,e.left,e.right)&&o.inRange(this.right,e.left,e.right)&&o.inRange(this.top,e.top,e.bottom)&&o.inRange(this.bottom,e.top,e.bottom)}}(),Array.isArray=Array.isArray||function(e){return r.isArray(e)},Array.prototype.forEach=Array.prototype.forEach||function(e,t){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this));for(var n=("split"in this?this.split(""):this),c=0,s=n.length;c<s;c+=1)e.call(t,n[c],c,n)},Array.prototype.every=Array.prototype.every||function(e,t){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this));for(var n=("split"in this?this.split(""):this),c=0,s=n.length;c<s;c+=1)if(!e.call(t,n[c],c,n))return!1;return!0},Array.prototype.some=Array.prototype.some||function(e,t){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this));for(var n=("split"in this?this.split(""):this),c=0,s=n.length;c<s;c+=1)if(e.call(t,n[c],c,n))return!0;return!1},Array.prototype.filter=Array.prototype.filter||function(e,t){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this));for(var n=("split"in this?this.split(""):this),c=[],s=0,o=n.length;s<o;s+=1)e.call(t,n[s],s,n)&&c.push(n[s]);return c},Array.prototype.map=Array.prototype.map||function(e,t){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this));for(var n=("split"in this?this.split(""):this),c=[],s=0,o=n.length;s<o;s+=1)c.push(e.call(t,n[s],s,n));return c},Array.prototype.reduce=Array.prototype.reduce||function(e,t,n){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this)),0===this.length&&i.assert(!1,"Error:Array.prototype.reduce");var c,s="split"in this?this.split(""):this;for(r.isUndefined(t)?(c=1,result=s[0]):(c=0,result=t),il=s.length;c<il;c+=1)result=e.call(n,result,s[c],c,s);return result},Array.prototype.reduceRight=Array.prototype.reduceRight||function(e,t,n){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this)),0===this.length&&i.assert(!1,"Error:Array.prototype.reduce");var c,s="split"in this?this.split(""):this;for(r.isUndefined(t)?(c=s.length-2,result=s[s.length-1]):(c=s.length-1,result=t);0<=c;c-=1)result=e.call(n,result,s[c],c,s);return result},Array.prototype.find=Array.prototype.find||function(e,t){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this));for(var n=("split"in this?this.split(""):this),c=0,s=n.length;c<s;c+=1)if(e.call(t,n[c],c,n))return n[c]},Array.prototype.findIndex=Array.prototype.findIndex||function(e,t){i.assert(r.isFunction(e)),i.assert(!r.isNullOrUndefined(this));for(var n=("split"in this?this.split(""):this),c=0,s=n.length;c<s;c+=1)if(e.call(t,n[c],c,n))return c;return-1},n.test_GlobalArray=function(){i.check(!0,Array.isArray([])),i.check(!1,Array.isArray(123)),i.check(!1,Array.isArray("abc")),i.check(!1,Array.isArray({}));var e,t="";[1,2,3].forEach(function(e,n,c){t+=e}),i.check("123",t),t="",[1,2,3].forEach(function(e,n,c){t+=e.toString()+this.value},e={value:"A"}),i.check("1A2A3A",t),i.check(!0,[1,1,1].every(function(e,t,n){return 1===e})),i.check(!1,[1,1,2].every(function(e,t,n){return 1===e})),e={value:1},i.check(!0,[1,1,1].every(function(e,t,n){return e+this.value===2},e)),i.check(!1,[1,1,2].every(function(e,t,n){return e+this.value===2},e)),i.check(!0,[1,2,3].some(function(e,t,n){return 1===e})),i.check(!1,[2,2,3].some(function(e,t,n){return 1===e})),e={value:1},i.check(!0,[1,2,3].some(function(e,t,n){return e+this.value===2},e)),i.check(!1,[2,2,3].some(function(e,t,n){return e+this.value===2},e));t=[1,2,3,4,5,6].filter(function(e,t,n){return o.isOdd(e)});i.check("1,3,5",t.join());var n=[1,4,9],c=n.map(Math.sqrt);i.check("1,4,9",n.join()),i.check("1,2,3",c.join());var r=function(e,t){return e+t},s=[1,2,3,4];t=s.reduce(r);i.check(10,t);t=s.reduce(r,5);i.check(15,t),i.check(1,[1].reduce(r));var a=[],u=[],h=[];t=[0,1,2,3,4].reduceRight(function(e,t,n,c){return a.push(e),u.push(t),h.push(n),e+t});i.check(10,t),i.check("4,7,9,10",a.join()),i.check("3,2,1,0",u.join()),i.check("3,2,1,0",h.join());a=[],u=[],h=[],t=[0,1,2,3,4].reduceRight(function(e,t,n,c){return a.push(e),u.push(t),h.push(n),e+t},10);i.check(20,t),i.check("10,14,17,19,20",a.join()),i.check("4,3,2,1,0",u.join()),i.check("4,3,2,1,0",h.join()),Array.prototype.find,i.check(6,[0,2,4,6,8,10].find(function(e,t,n){return 5<=e})),i.check(0,[0,2,4,6,8,10].find(function(e,t,n){return e<=5})),i.check("A",Array.prototype.find.call("123ABC".split(""),function(e,t,n){return"A"===e})),i.check("B",Array.prototype.find.call("123ABC",function(e,t,n){return"B"===e})),i.check(3,[0,2,4,6,8,10].findIndex(function(e,t,n){return 5<=e})),i.check(0,[0,2,4,6,8,10].findIndex(function(e,t,n){return e<=5}))},n.test=e.test||{},function(){var t=e.test;t.test_stslib_core=function(){c.test_forLoop(),i.test_check(),i.test_checkException(),i.test_checkResult(),i.test_orValue(),i.test_matchValue(),r.test_isUndefined(),r.test_isNull(),r.test_isNullOrUndefined(),r.test_ifNullOrUndefinedValue(),r.test_isEmpty(),r.test_isBoolean(),r.test_isNumber(),r.test_isInt(),r.test_isString(),r.test_isFunction(),r.test_isObject(),r.test_convertToNumber(),r.test_convertToInt(),r.test_convertToString(),r.test_convertToDate(),r.test_dateToString(),r.test_stringToDate(),r.test_dateToMilliseconds(),r.test_millisecondsToDate(),o.test_round(),o.test_nearEqual(),o.test_formatDigitComma(),a.test_deleteIndex(),a.test_deleteLength(),a.test_isInclude(),a.test_isIncludeAny(),a.test_isIncludeAll(),a.test_isIncludeFunc(),a.test_includeCount(),a.test_indexOfFirst(),a.test_indexOfLast(),a.test_indexOfAnyFirst(),a.test_indexOfAnyLast(),a.test_indexOfFuncFirst(),a.test_indexOfFuncLast(),a.test_substrIndex(),a.test_substrLength(),a.test_start(),a.test_isStart(),a.test_includeStart(),a.test_excludeStart(),a.test_deleteStart(),a.test_fillStart(),a.test_end(),a.test_isEnd(),a.test_includeEnd(),a.test_excludeEnd(),a.test_deleteEnd(),a.test_fillEnd(),a.test_startFirstDelim(),a.test_startLastDelim(),a.test_endFirstDelim(),a.test_endLastDelim(),new e.string.String("abc").test(),new e.string.StringEx("123").test(),e.test.test_equalOperator(),a.test_trimStart(),a.test_trimEnd(),a.test_deleteFirstLast(),a.test_deleteFirstTagInner(),a.test_deleteFirstTagOuter(),a.test_deleteLastTagInner(),a.test_deleteLastTagOuter(),a.test_deleteAllTag(),a.test_tagInnerFirst(),a.test_tagOuterFirst(),a.test_tagInnerLast(),a.test_tagOuterLast(),a.test_tagOuterAll(),a.test_repeat(),a.test_replaceAll(),a.test_replaceAllArray(),a.test_reverse(),a.test_formatInsertFirst(),a.test_formatInsertLast(),s.test_equal(),s.test_average(),s.test_median(),s.test_mode(),s.test_diffMinMax(),s.test_insert(),s.test_insertAdd(),s.test_add(),s.test_deleteIndex(),s.test_deleteLength(),s.test_deleteFind(),s.test_deleteFindAll(),s.test_deleteStart(),s.test_deleteEnd(),s.test_isIncludeAny(),s.test_isIncludeFunc(),s.test_setInclude(),s.test_indexOfFirst(),s.test_indexOfLast(),s.test_indexOfArrayFirst(),s.test_indexOfArrayLast(),s.test_outputStartArray(),s.test_outputEndArray(),s.test_remainStart(),s.test_remainEnd(),s.dimension.test_expand2Dimension(),s.dimension.test_expandMultiDimension(),s.dimension.test_flatten();var t=e.angle;t.test_relative(),t.test_degToRad(),e.path.test_getFileName(),e.Document("").test();var n=e.object;n.property.test_count(),n.property.test_names(),n.property.test_values(),n.property.test_nameExists(),n.property.test_valueExists(),n.property.test_getNameFromValue();var d=e.enumType;d.test_Enum(),d.test_EnumNameValue(),r.test_isDate(),u.test_isInvalidDate(),u.test_Date(),u.test_equalDate(),u.test_dayOfWeek(),u.test_formatToString(),r.test_isPoint(),r.test_isVector(),r.test_isRect(),h.test_point_clone(),h.test_point_move(),h.test_point_inRect(),l.test_vector_clone(),l.test_vector_length(),l.test_vector_setFrom(),l.test_vector_add(),l.test_vector_normalize(),l.test_vector_inverse(),l.test_vector_normalRight(),l.test_vector_normalLeft(),l.test_vector_moveParallels(),f.test_Rect(),f.test_rect_clone(),f.test_rect_width_height(),f.test_rect_center(),f.test_rect_move(),f.test_rect_setTopLeft(),e.test_GlobalArray(),e.alert("finish stslib_core_test テスト終了")},t.test_equalOperator=function(){var e,t;e=!0,i.check(!0,1==e,"v01-01"),i.check(!1,"true"==e,"v01-02"),i.check(!0,e+""=="true","v01-03"),i.check(!0,1==e,"v01-04"),i.check(!0,1==!!e,"v01-05"),i.check(!1,"true"==!!e,"v01-06"),i.check(!0,1==!!e,"v01-06-02"),i.check(!1,0==e,"v01-07"),i.check(!1,"false"==e,"v01-08"),i.check(!1,e+""=="false","v01-09"),i.check(!0,1==e,"v01-10"),i.check(!0,1==!!e,"v01-11"),i.check(!1,"false"==!!e,"v01-12"),i.check(!1,0==!!e,"v01-13"),e=!1,i.check(!1,1==e,"v02-01"),i.check(!1,"true"==e,"v02-02"),i.check(!1,e+""=="true","v02-03"),i.check(!1,1==e,"v02-04"),i.check(!1,1==!!e,"v02-05"),i.check(!1,"true"==!!e,"v02-06"),i.check(!1,1==!!e,"v02-06-02"),i.check(!0,0==e,"v02-07"),i.check(!1,"false"==e,"v02-08"),i.check(!0,e+""=="false","v02-09"),i.check(!1,1==e,"v02-10"),i.check(!1,1==!!e,"v02-11"),i.check(!1,"false"==!!e,"v02-12"),i.check(!0,0==!!e,"v02-13"),t="true",i.check(!0,"true"==t,"V03-01"),i.check(!1,1==t,"V03-01"),i.check(!0,1==!!t,"V03-02"),i.check(!1,0==t,"V03-03"),i.check(!1,0==!!t,"V03-04"),t="false",i.check(!1,"true"==t,"V04-01"),i.check(!1,1==t,"V04-01"),i.check(!0,1==!!t,"V04-02"),i.check(!1,0==t,"V04-03"),i.check(!1,0==!!t,"V04-04")}}();var c=e.syntax,r=e.type,i=e.compare,s=e.array,o=e.number,a=e.string,u=e.date,h=e.point,l=e.vector,f=e.rect;n.caseType=e.enumType.EnumNameValue("sensitive","ignore")}(t,this);var n;n=t,e.exports=n}()},function(module,exports,__webpack_require__){!function(){var stsLib=__webpack_require__(0),stsLib=stsLib||{};!function(){"use strict";var _=stsLib;_.system=stsLib.system||{},function(){var _=stsLib.system;_.consoleLogComment=function(e,t){return"console.log("+e+");  //"+t},_.consoleLogCommentOutput=function(e,t){console.log(_.consoleLogComment(e,t))},_.test_consoleLogComment=function(){var testFunc=function(e){return e+e},formula="testFunc(1)",result=eval(formula);c.check("console.log(testFunc(1));  //2",_.consoleLogComment(formula,result))},_.consoleHook=stsLib.system.consoleHook||{},function(){var e=stsLib.system.consoleHook;e.originalConsoleLog=console.log,e.logHook=function(e=function(){}){console.log=e},e.logUnhook=function(){delete console.log},e.logFilterIncludes=function(n,r){t.isUndefined(r)&&(r=console.log),c.assert(t.isFunction(r)),Array.isArray(n)?e.logHook(function(e){if(n.includes(e)){var t=Array.prototype.slice.call(arguments);r(t)}}):t.isString(n)?e.logHook(function(e){if(null!==String(e).match(new RegExp(n))){var t=Array.prototype.slice.call(arguments);r(t)}}):c.assert(!1)},e.logFilterExcludes=function(n,r){t.isUndefined(r)&&(r=console.log),c.assert(t.isFunction(r)),Array.isArray(n)?e.logHook(function(e){if(!n.includes(e)){var t=Array.prototype.slice.call(arguments);r(t)}}):t.isString(n)?e.logHook(function(e){if(null===String(e).match(new RegExp(n))){var t=Array.prototype.slice.call(arguments);r(t)}}):c.assert(!1)}}(),_.test_consoleHook=function(){var e="";stsLib.system.consoleHook.logHook(function(t){e+=t+";"}),console.log("ABC"),console.log("DEF"),console.log("123"),stsLib.system.consoleHook.logUnhook(),c.check("ABC;DEF;123;",e);e="";stsLib.system.consoleHook.logHook(function(t){e+=t+";"}),stsLib.system.consoleHook.logFilterIncludes(["101","203"]),console.log("101"),console.log("102"),console.log("203"),stsLib.system.consoleHook.logUnhook(),c.check("101;203;",e);e="";stsLib.system.consoleHook.logFilterIncludes("^1\\d\\d$",function(t){e+=t+";"}),console.log("101"),console.log("102"),console.log("203"),stsLib.system.consoleHook.logUnhook(),c.check("101;102;",e);e="";stsLib.system.consoleHook.logFilterExcludes(["101","203"],function(t){e+=t+";"}),console.log("101"),console.log("102"),console.log("203"),stsLib.system.consoleHook.logUnhook(),c.check("102;",e);e="";stsLib.system.consoleHook.logHook(function(t){e+=t+";"}),stsLib.system.consoleHook.logFilterExcludes("^1\\d\\d$"),console.log("101"),console.log("102"),console.log("203"),stsLib.system.consoleHook.logUnhook(),c.check("203;",e)},_.test_stslib_console=function(){_.test_consoleLogComment(),_.test_consoleHook(),stsLib.alert("finish stslib_console_test テスト終了")}}();var x=stsLib.syntax,t=stsLib.type,c=stsLib.compare,a=stsLib.array,n=stsLib.number,s=stsLib.string,d=stsLib.date,p=stsLib.point,v=stsLib.vector,r=stsLib.rect}();var moduleExports=function(e,t){module.exports=e};moduleExports(stsLib,"stslib_console.js")}()},function(e,t,n){!function(){var t;!function(e,t){"use strict";var n=e;n.alert=function(e){alert(e)},n.web=e.web||{},function(){var t=e.web;t.setCookie=function(e,t,n){r.assert(c.isStrings(e,t)),r.assert(c.isInt(n));var i=new Date;i.setTime(i.getTime()+n),document.cookie=e+"="+encodeURIComponent(t)+";expires="+i.toUTCString()},t.getCookie=function(e){if(document.cookie)for(var t=document.cookie.split("; "),n=0,c=t.length;n<c;n+=1){var r=t[n].split("=");if(r[0]===e)return decodeURIComponent(r[1])}return""},t.enableLocalStorage=function(){return"localStorage"in window&&null!==window.localStorage},t.enableSessionStorage=function(){return"sessionStorage"in window&&null!==window.sessionStorage},t.getUrlParameter=function(){for(var e={},t=location.search.substring(1).split("&"),n=0,c=t.length;n<c;n+=1){var r=t[n].split("=");try{e[r[0]]=decodeURIComponent(r[1])}catch(e){}}return e},t.test_getUrlParameter=function(){var e=getUrlParameter();r.check("1",e.a),r.check("2",e.b)},t.intervalForTo1=function(e,t,n,c){if(e<=t){var r=e,i=function(){!1!==c(r)&&(r<t&&setTimeout(i,n),r++)};i()}},t.intervalForTo2=function(e,t,n,c){if(e<=t)var r=e,i=setInterval(function(){!1!==c(r)?t<=r?clearInterval(i):r++:clearInterval(i)},n)},t.intervalForTo3=function(e,t,n,c){if(e<=t){var r=e;if(!1!==c(r))var i=setInterval(function(){t<=r?clearInterval(i):!1!==c(++r)||clearInterval(i)},n)}},t.intervalForTo=function(e,n,c,r){return t.intervalForTo1(e,n,c,r)},t.test_intervalForTo=function(e){var t="";e(5,10,500,function(e){t+=e.toString(),10===e&&r.check("5678910",t),11===e&&r.assert("test01")});var n="";e(5,10,500,function(e){if(n+=e.toString(),7===e)return!0;n+=e.toString(),10===e&&r.check("5566788991010",n),11===e&&r.assert("test02")});var c="";e(5,10,500,function(e){if(c+=e.toString(),8===e)return r.check("5566778",c),!1;c+=e.toString(),9===e&&r.assert("test03")});var i="";e(15,15,500,function(e){i+=e.toString(),15===e&&r.check("15",i),16===e&&r.assert("test04")}),e(20,19,500,function(e){alert("test05")})},t.test_intervalForToAll=function(){t.test_intervalForTo(t.intervalForTo1),t.test_intervalForTo(t.intervalForTo2),t.test_intervalForTo(t.intervalForTo3)},t.intervalForDownTo1=function(e,t,n,c){if(t<=e){var r=e,i=function(){!1!==c(r)&&(t<r&&setTimeout(i,n),r--)};i()}},t.intervalForDownTo2=function(e,t,n,c){if(t<=e)var r=e,i=setInterval(function(){!1!==c(r)?r<=t?clearInterval(i):r--:clearInterval(i)},n)},t.intervalForDownTo3=function(e,t,n,c){if(t<=e){var r=e;if(!1!==c(r))var i=setInterval(function(){r<=t?clearInterval(i):!1!==c(--r)||clearInterval(i)},n)}},t.intervalForDonwTo=function(e,n,c,r){return t.intervalForDownTo1(e,n,c,r)},t.test_intervalForDownTo=function(e){var t="";e(10,5,500,function(e){t+=e.toString(),5===e&&r.check("1098765",t),4===e&&r.assert("test01")});var n="";e(10,5,500,function(e){if(n+=e.toString(),7===e)return!0;n+=e.toString(),5===e&&r.check("1010998876655",n),4===e&&r.assert("test02")});var c="";e(10,5,500,function(e){if(c+=e.toString(),8===e)return r.check("1010998",c),!1;c+=e.toString(),7===e&&r.assert("test03")});var i="";e(15,15,500,function(e){i+=e.toString(),15===e&&r.check("15",i),16===e&&r.assert("test04")}),e(20,21,500,function(e){alert("test05")})},t.test_intervalForDownToAll=function(){t.test_intervalForDownTo(t.intervalForDownTo1),t.test_intervalForDownTo(t.intervalForDownTo2),t.test_intervalForDownTo(t.intervalForDownTo3)},t.test_stslib_web=function(){t.test_intervalForToAll(),t.test_intervalForDownToAll(),e.alert("finish stslib_web_test テスト終了")}}();e.syntax;var c=e.type,r=e.compare;e.array,e.number,e.string,e.date,e.point,e.vector,e.rect}(t=(t=n(1))||{});var c;c=t,e.exports=c}()},function(e,t,n){var c=n(2);main=function(){c.test.test_stslib_core(),c.web.test_stslib_web(),c.system.test_stslib_console();!function(){var e=document.getElementById("canvas01");if(!e||!e.getContext)return!1;var t=e.getContext("2d");t.beginPath();var n=c.point.Point(30,30);t.moveTo(n.x,n.y),n.move(30,0),t.lineTo(n.x,n.y),n.move(0,30),t.lineTo(n.x,n.y),n.move(-30,0),t.lineTo(n.x,n.y),t.closePath(),t.stroke()}();!function(){var e=document.getElementById("canvas01");if(!e||!e.getContext)return!1;var t=e.getContext("2d");t.beginPath();var n=c.vector.Vector(c.point.Point(130,30),c.point.Point(160,30));t.moveTo(n.from.x,n.from.y),t.lineTo(n.to.x,n.to.y),n.setFrom(n.to),n=n.rotate(-90),t.lineTo(n.to.x,n.to.y),n.setFrom(n.to),n=n.rotate(-90),t.lineTo(n.to.x,n.to.y),t.closePath(),t.stroke()}();!function(){var e=document.getElementById("canvas01");if(!e||!e.getContext)return!1;var t=e.getContext("2d");t.beginPath();var n=c.vector.Vector(c.point.Point(30,160),c.point.Point(30,130));n.rotate(-18),t.moveTo(n.from.x,n.from.y),t.lineTo(n.to.x,n.to.y),n.setFrom(n.to),n.rotate(-144),t.lineTo(n.to.x,n.to.y),n.setFrom(n.to),n.rotate(-144),t.lineTo(n.to.x,n.to.y),n.setFrom(n.to),n.rotate(-144),t.lineTo(n.to.x,n.to.y),t.closePath(),t.stroke()}()}}]);